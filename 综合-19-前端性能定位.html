<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <style>
      :root {
        --c-bg: #fff;
      }

      html.dark {
        --c-bg: #22272e;
      }

      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.classList.toggle('dark', true)
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta property="og:url" content="https://interview.leeguoo.com/%E7%BB%BC%E5%90%88-19-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%AE%9A%E4%BD%8D.html"><meta property="og:site_name" content="前端面试题集锦"><meta property="og:description" content="原文链接: https://interview.poetries.top/principle-docs/comprehensive/19-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%AE%9A%E4%BD%8D.html 性能优化的意义 性能是留住用户很重要的一环 pinterest 重建了他们的页面以实现性能，使感..."><meta property="og:type" content="article"><meta property="og:image" content="https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_e9e86c2fb3c512b6.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-06-06T05:59:31.000Z"><meta property="article:modified_time" content="2024-06-06T05:59:31.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"","image":["https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_e9e86c2fb3c512b6.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_5f72a00c10594524.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_371585195be23969.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_bb0a7833216a6f87.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_b5ee7ee6fdc4c8c4.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_ac3d40c180143d67.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_dcbb1760bd319f3b.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_12a9b269a9afb096.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_9c205a46e33f41b8.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_3d382c1bde031e54.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_99b44fd02f1a1caa.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_1f679dee4437827e.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_f3ebbda38c9239a2.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_3f218a80cb528b0a.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_5b807139fc3f7175.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_b9942f777f5efe2f.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_beca96ece3131c1c.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_d20c9a737bff052f.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_ec96cb38daa7275e.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_7e786b5f7737a786.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_5fb7a8345786d90f.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_5a1684a3e45d1f0e.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_bf3d19cf85587472.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_32aaa3c8a641d859.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_b064f72f814a44dd.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_bb8cec381391697a.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_449880989d27a5b9.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_6e8ddaf30fa4bb79.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_3ab54f6ac6bebab2.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_1a488a759db184a1.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_30538768460964c8.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_82932f6e8d6854ac.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_3dfe29bf9e397962.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_5855d04ad84eaec2.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_5b2e43b44abf1e9f.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_1e046cc764cf3d02.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_1ce647270e67ec23.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_88587b2e98052c2f.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_eb05a432c3a1905f.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_1646e6a466d8c822.png","https://interview.leeguoo.com/images/s_poetries_work_uploads_2022_10_5a780b936aef5e84.png"],"dateModified":"2024-06-06T05:59:31.000Z","author":[]}</script><link rel="stylesheet" href="/safe-area.css"><link rel="manifest" href="/manifest.json"><meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"><meta name="theme-color" content="#3eaf7c"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="apple-touch-icon" href="/images/icons/icon-152x152.png"><link rel="mask-icon" href="/images/icons/safari-pinned-tab.svg" color="#3eaf7c"><meta name="msapplication-TileImage" content="/images/icons/icon-144x144.png"><meta name="msapplication-TileColor" content="#000000"><link rel="icon" href="images/Favicons/favicon-32.png"><title>前端面试题集锦</title><meta name="description" content="原文链接: https://interview.poetries.top/principle-docs/comprehensive/19-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%AE%9A%E4%BD%8D.html 性能优化的意义 性能是留住用户很重要的一环 pinterest 重建了他们的页面以实现性能，使感...">
    <link rel="preload" href="/assets/style-B5Szhufw.css" as="style"><link rel="stylesheet" href="/assets/style-B5Szhufw.css">
    <link rel="modulepreload" href="/assets/app-DVMZDNEl.js"><link rel="modulepreload" href="/assets/综合-19-前端性能定位.html-B2hPfV61.js">
    
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container"><!--[--><header class="vp-navbar"><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/images/logo.webp" alt="前端面试题集锦"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">前端面试题集锦</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="首页"><!---->首页<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="题库"><span class="title">题库</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="题库"><span class="title">题库</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%9F%BA%E7%A1%80%E7%AF%87.html" aria-label="基础篇"><!---->基础篇<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E8%BF%9B%E9%98%B6%E7%AF%87.html" aria-label="进阶篇"><!---->进阶篇<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E9%AB%98%E9%A2%91%E7%AF%87.html" aria-label="高频篇"><!---->高频篇<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/HTML.html" aria-label="HTML"><!---->HTML<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/CSS.html" aria-label="CSS"><!---->CSS<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/JavaScript.html" aria-label="JavaScript"><!---->JavaScript<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ES6.html" aria-label="ES6"><!---->ES6<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8.html" aria-label="浏览器"><!---->浏览器<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React.html" aria-label="React"><!---->React<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue.html" aria-label="Vue"><!---->Vue<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Node.html" aria-label="Node"><!---->Node<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96.html" aria-label="前端工程化"><!---->前端工程化<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html" aria-label="移动多端开发"><!---->移动多端开发<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%B0%8F%E7%A8%8B%E5%BA%8F.html" aria-label="小程序"><!---->小程序<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Uniapp.html" aria-label="Uniapp"><!---->Uniapp<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8.html" aria-label="前端安全"><!---->前端安全<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" aria-label="性能优化"><!---->性能优化<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/HTTP.html" aria-label="HTTP"><!---->HTTP<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%B8%B8%E7%94%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" aria-label="常用设计模式"><!---->常用设计模式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%202.html" aria-label="设计模式 2"><!---->设计模式 2<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%A1%86%E6%9E%B6%E9%80%9A%E8%AF%86.html" aria-label="框架通识"><!---->框架通识<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html" aria-label="排序算法"><!---->排序算法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html" aria-label="计算机通识"><!---->计算机通识<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Vue 源码解析"><span class="title">Vue 源码解析</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Vue 源码解析"><span class="title">Vue 源码解析</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue%E6%BA%90%E7%A0%81.html" aria-label="Vue-生命周期"><!---->Vue-生命周期<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E7%BB%84%E4%BB%B6%E7%9A%84%E6%9C%AC%E8%B4%A8.html" aria-label="Vue-组件的本质"><!---->Vue-组件的本质<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E6%9C%89%E7%8A%B6%E6%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E8%AE%BE%E8%AE%A1.html" aria-label="Vue-有状态组件的设计"><!---->Vue-有状态组件的设计<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-VNode.html" aria-label="Vue-VNode"><!---->Vue-VNode<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E8%BE%85%E5%8A%A9%E5%88%9B%E5%BB%BA%20VNode%20%E7%9A%84%20h%20%E5%87%BD%E6%95%B0.html" aria-label="Vue-辅助创建VNode的h函数"><!---->Vue-辅助创建VNode的h函数<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B8%B2%E6%9F%93%E5%99%A8%E5%92%8C%E5%BC%82%E6%AD%A5%E6%B8%B2%E6%9F%93.html" aria-label="Vue-自定义渲染器和异步渲染"><!---->Vue-自定义渲染器和异步渲染<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B9%8B%E6%8C%82%E8%BD%BD.html" aria-label="Vue-渲染器之挂载"><!---->Vue-渲染器之挂载<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E6%B8%B2%E6%9F%93%E5%99%A8%E7%9A%84%E6%A0%B8%E5%BF%83%20Diff%20%E7%AE%97%E6%B3%95.html" aria-label="Vue-渲染器的核心 Diff 算法"><!---->Vue-渲染器的核心 Diff 算法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B9%8B%20patch.html" aria-label="Vue-渲染器之patch"><!---->Vue-渲染器之patch<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E5%9B%BE%E8%A7%A3%20Vue%20%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html" aria-label="Vue-图解 Vue 响应式原理"><!---->Vue-图解 Vue 响应式原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E5%9B%BE%E8%A7%A3%20Vue%20%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0.html" aria-label="Vue-图解 Vue 异步更新"><!---->Vue-图解 Vue 异步更新<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E5%89%96%E6%9E%90%20Vue%20%E5%86%85%E9%83%A8%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6.html" aria-label="Vue-剖析 Vue 内部运行机制"><!---->Vue-剖析 Vue 内部运行机制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86%E6%A8%A1%E6%8B%9F.html" aria-label="Vue-vue响应式原理模拟"><!---->Vue-vue响应式原理模拟<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E4%B9%8Bvuex.html" aria-label="Vue-vue状态管理之vuex"><!---->Vue-vue状态管理之vuex<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E7%90%86%E8%A7%A3Vue%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%E5%8F%8A%E5%AE%9E%E7%8E%B0Vue.html" aria-label="Vue-理解Vue的设计思想及实现Vue"><!---->Vue-理解Vue的设计思想及实现Vue<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-diff%E7%AE%97%E6%B3%95%E6%B7%B1%E5%85%A5.html" aria-label="Vue-diff算法深入"><!---->Vue-diff算法深入<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue%20router%20vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html" aria-label="Vue-vue router vuex原理分析"><!---->Vue-vue router vuex原理分析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-Vue3%E5%88%9D%E6%8E%A2%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86..html" aria-label="Vue-Vue3初探响应式原理."><!---->Vue-Vue3初探响应式原理.<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue2%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html" aria-label="Vue-vue2源码分析"><!---->Vue-vue2源码分析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%AE%9E%E8%B7%B5.html" aria-label="Vue-vue组件化实践"><!---->Vue-vue组件化实践<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="React"><span class="title">React</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="React"><span class="title">React</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-React%20router%E5%8E%9F%E7%90%86.html" aria-label="React-React router原理"><!---->React-React router原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-dva%20%E6%80%BB%E7%BB%93.html" aria-label="React-dva 总结"><!---->React-dva 总结<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Mobx%20%E6%80%BB%E7%BB%93.html" aria-label="React-Mobx 总结"><!---->React-Mobx 总结<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-%E6%B5%85%E6%9E%90redux%20saga%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%8F%8A%E7%94%A8%E6%B3%95.html" aria-label="React-浅析redux saga中间件及用法"><!---->React-浅析redux saga中间件及用法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Redux%E4%B9%8B%E6%B5%85%E6%9E%90%E4%B8%AD%E9%97%B4%E4%BB%B6.html" aria-label="React-Redux之浅析中间件"><!---->React-Redux之浅析中间件<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Redux%E4%B9%8B%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html" aria-label="React-Redux之源码分析"><!---->React-Redux之源码分析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Redux%E4%B9%8B%E5%BC%82%E6%AD%A5Action%E5%8F%8A%E6%93%8D%E4%BD%9C.html" aria-label="React-Redux之异步Action及操作"><!---->React-Redux之异步Action及操作<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-%E6%B5%85%E6%9E%90%E4%B8%AD%E9%97%B4%E4%BB%B6.html" aria-label="React-浅析中间件"><!---->React-浅析中间件<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-react%E7%BB%93%E5%90%88redux%E5%AE%9E%E6%88%98.html" aria-label="React-react结合redux实战"><!---->React-react结合redux实战<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Immutable%E6%80%BB%E7%BB%93.html" aria-label="React-Immutable总结"><!---->React-Immutable总结<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-React16%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9B%B4%E6%94%B9%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%8A.html" aria-label="React-React16为什么要更改生命周期上"><!---->React-React16为什么要更改生命周期上<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-React16%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9B%B4%E6%94%B9%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%8B.html" aria-label="React-React16为什么要更改生命周期下"><!---->React-React16为什么要更改生命周期下<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-React%20Hooks%20%E8%AE%BE%E8%AE%A1%E5%8A%A8%E6%9C%BA%E4%B8%8E%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F.html" aria-label="React-React Hooks 设计动机与工作模式"><!---->React-React Hooks 设计动机与工作模式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-%E6%B7%B1%E5%85%A5%20React%20Hooks%20%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6.html" aria-label="React-深入 React Hooks 工作机制"><!---->React-深入 React Hooks 工作机制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-15-%E7%9C%9F%E6%AD%A3%E7%90%86%E8%A7%A3%E8%99%9A%E6%8B%9FDOM.html" aria-label="React-15-真正理解虚拟DOM"><!---->React-15-真正理解虚拟DOM<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-17-setState-%E5%88%B0%E5%BA%95%E6%98%AF%E5%90%8C%E6%AD%A5%E7%9A%84-%E8%BF%98%E6%98%AF%E5%BC%82%E6%AD%A5%E7%9A%84.html" aria-label="React-17-setState-到底是同步的-还是异步的"><!---->React-17-setState-到底是同步的-还是异步的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-16-React-%E4%B8%AD%E7%9A%84-%E6%A0%88%E8%B0%83%E5%92%8C-Stack-Reconciler-%E8%BF%87%E7%A8%8B%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84.html" aria-label="React-16-React-中的-栈调和-Stack-Reconciler-过程是怎样的"><!---->React-16-React-中的-栈调和-Stack-Reconciler-过程是怎样的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-18-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3-Fiber-%E6%9E%B6%E6%9E%84%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%8A%A8%E6%9C%BA%E4%B8%8E%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3.html" aria-label="React-18-如何理解-Fiber-架构的迭代动机与设计思想"><!---->React-18-如何理解-Fiber-架构的迭代动机与设计思想<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-19-ReactDOM-render-%E6%98%AF%E5%A6%82%E4%BD%95%E4%B8%B2%E8%81%94%E6%B8%B2%E6%9F%93%E9%93%BE%E8%B7%AF%E7%9A%84.html" aria-label="React-19-ReactDOM-render-是如何串联渲染链路的"><!---->React-19-ReactDOM-render-是如何串联渲染链路的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-20-%E5%89%96%E6%9E%90-Fiber-%E6%9E%B6%E6%9E%84%E4%B8%8B-Concurrent-%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86.html" aria-label="React-20-剖析-Fiber-架构下-Concurrent-模式的实现原理"><!---->React-20-剖析-Fiber-架构下-Concurrent-模式的实现原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-21-React-%E4%BA%8B%E4%BB%B6%E4%B8%8E-DOM-%E4%BA%8B%E4%BB%B6%E6%9C%89%E4%BD%95%E4%B8%8D%E5%90%8C.html" aria-label="React-21-React-事件与-DOM-事件有何不同"><!---->React-21-React-事件与-DOM-事件有何不同<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-22-%E6%8F%AD%E7%A7%98-Redux-%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%E4%B8%8E%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.html" aria-label="React-22-揭秘-Redux-设计思想与工作原理"><!---->React-22-揭秘-Redux-设计思想与工作原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-23-%E4%BB%8E-Redux-%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%88%87%E5%85%A5-%E7%90%86%E8%A7%A3-%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B-.html" aria-label="React-23-从-Redux-中间件实现原理切入-理解-面向切面编程-"><!---->React-23-从-Redux-中间件实现原理切入-理解-面向切面编程-<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-24-%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84-React-%E5%BA%94%E7%94%A8.html" aria-label="React-24-如何打造高性能的-React-应用"><!---->React-24-如何打造高性能的-React-应用<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-25-%E8%B7%9F-React-%E5%AD%A6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" aria-label="React-25-跟-React-学设计模式"><!---->React-25-跟-React-学设计模式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-26-React%E5%85%A8%E9%83%A8api%E8%A7%A3%E8%AF%BB.html" aria-label="React-26-React全部api解读"><!---->React-26-React全部api解读<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-27-Taro%E5%8E%9F%E7%90%86.html" aria-label="React-27-Taro原理"><!---->React-27-Taro原理<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Webpack"><span class="title">Webpack</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Webpack"><span class="title">Webpack</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-01-Webpack4%E6%89%93%E5%8C%85%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90.html" aria-label="Webpack-01-Webpack4打包机制原理解析"><!---->Webpack-01-Webpack4打包机制原理解析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-02-webpack%E4%B8%AD%E7%9A%84HMR%E7%83%AD%E6%9B%B4%E6%96%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90.html" aria-label="Webpack-02-webpack中的HMR热更新原理剖析"><!---->Webpack-02-webpack中的HMR热更新原理剖析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-03-%E4%BB%8E%E6%BA%90%E7%A0%81%E7%AA%A5%E6%8E%A2Webpack4-x%E5%8E%9F%E7%90%86.html" aria-label="Webpack-03-从源码窥探Webpack4-x原理"><!---->Webpack-03-从源码窥探Webpack4-x原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-04-%E5%AE%9E%E7%8E%B0webpack%E5%B0%8F%E5%9E%8B%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7.html" aria-label="Webpack-04-实现webpack小型打包工具"><!---->Webpack-04-实现webpack小型打包工具<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-05-Babel%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E4%BD%BF%E7%94%A8.html" aria-label="Webpack-05-Babel原理及其使用"><!---->Webpack-05-Babel原理及其使用<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-06-Webpack-%E4%B8%8E-Rollup-%E4%BA%8C%E8%80%85%E4%B9%8B%E9%97%B4%E8%AF%A5%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9.html" aria-label="Webpack-06-Webpack-与-Rollup-二者之间该如何选择"><!---->Webpack-06-Webpack-与-Rollup-二者之间该如何选择<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-07-%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E6%96%B0%E7%8E%A9%E6%B3%95-Vite-%E4%B8%8A%E6%89%8B%E4%B8%8E%E6%80%9D%E8%80%83.html" aria-label="Webpack-07-前端构建新玩法-Vite-上手与思考"><!---->Webpack-07-前端构建新玩法-Vite-上手与思考<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-08-%E5%88%A9%E7%94%A8-Webpack-CodeSplitting-%E5%AE%8C%E6%88%90%E5%A4%8D%E6%9D%82%E5%BA%94%E7%94%A8%E6%8B%86%E5%8C%85.html" aria-label="Webpack-08-利用-Webpack-CodeSplitting-完成复杂应用拆包"><!---->Webpack-08-利用-Webpack-CodeSplitting-完成复杂应用拆包<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-09-%E7%8E%A9%E8%BD%AC-Webpack-%E7%9A%84-TreeShaking-%E4%B8%8E-sideEffects-%E7%89%B9%E6%80%A7.html" aria-label="Webpack-09-玩转-Webpack-的-TreeShaking-与-sideEffects-特性"><!---->Webpack-09-玩转-Webpack-的-TreeShaking-与-sideEffects-特性<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-10-%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE-Webpack-SourceMap-%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html" aria-label="Webpack-10-如何配置-Webpack-SourceMap-的最佳实践"><!---->Webpack-10-如何配置-Webpack-SourceMap-的最佳实践<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-11-Webpack-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%E4%B8%8E%E6%A0%B8%E5%BF%83%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.html" aria-label="Webpack-11-Webpack-运行机制与核心工作原理"><!---->Webpack-11-Webpack-运行机制与核心工作原理<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Node"><span class="title">Node</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Node"><span class="title">Node</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Node-01-Node%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86.html" aria-label="Node-01-Node事件循环机制原理"><!---->Node-01-Node事件循环机制原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Node-02-express%E8%AF%A6%E7%BB%86%E4%BD%BF%E7%94%A8.html" aria-label="Node-02-express详细使用"><!---->Node-02-express详细使用<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Node-03-koa%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95.html" aria-label="Node-03-koa基本用法"><!---->Node-03-koa基本用法<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Javascript"><span class="title">Javascript</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Javascript"><span class="title">Javascript</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Javascript-01-JavaScript-%E5%BC%95%E6%93%8E%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C-JavaScript-%E4%BB%A3%E7%A0%81.html" aria-label="Javascript-01-JavaScript-引擎如何执行-JavaScript-代码"><!---->Javascript-01-JavaScript-引擎如何执行-JavaScript-代码<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Javascript-02-%E5%8D%95%E7%BA%BF%E7%A8%8B%E7%9A%84-JavaScript-%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86%E4%BB%BB%E5%8A%A1.html" aria-label="Javascript-02-单线程的-JavaScript-如何管理任务"><!---->Javascript-02-单线程的-JavaScript-如何管理任务<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="综合"><span class="title">综合</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="综合"><span class="title">综合</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-01-%E8%99%9A%E6%8B%9FDOM%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90-%E4%BB%80%E4%B9%88%E6%98%AF-virtual-dom.html" aria-label="综合-01-虚拟DOM原理分析-什么是-virtual-dom"><!---->综合-01-虚拟DOM原理分析-什么是-virtual-dom<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-02-setTimeout%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%92%8C%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F.html" aria-label="综合-02-setTimeout实现原理和使用注意"><!---->综合-02-setTimeout实现原理和使用注意<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-03-%E6%B5%85%E6%9E%90Promise%E5%8E%9F%E7%90%86.html" aria-label="综合-03-浅析Promise原理"><!---->综合-03-浅析Promise原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-04-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html" aria-label="综合-04-浏览器渲染原理"><!---->综合-04-浏览器渲染原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-05-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B9%8BMVVM%E6%B5%85%E6%9E%90.html" aria-label="综合-05-前端面试之MVVM浅析"><!---->综合-05-前端面试之MVVM浅析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-06-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B9%8B%E7%BB%84%E4%BB%B6%E5%8C%96.html" aria-label="综合-06-前端面试之组件化"><!---->综合-06-前端面试之组件化<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-07-%E8%99%9A%E6%8B%9FDOM-%E4%B8%80-.html" aria-label="综合-07-虚拟DOM-一-"><!---->综合-07-虚拟DOM-一-<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-08-%E8%99%9A%E6%8B%9FDOM-%E4%BA%8C-.html" aria-label="综合-08-虚拟DOM-二-"><!---->综合-08-虚拟DOM-二-<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-09-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%B9%8BPerformance.html" aria-label="综合-09-前端性能之Performance"><!---->综合-09-前端性能之Performance<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-10-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5.html" aria-label="综合-10-小程序开发实践"><!---->综合-10-小程序开发实践<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-11-%E5%AF%B9%E6%AF%94-Koa-%E5%92%8C-Redux-%E5%88%86%E6%9E%90%E5%89%8D%E7%AB%AF%E4%B8%AD%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%90%86%E5%BF%B5.html" aria-label="综合-11-对比-Koa-和-Redux-分析前端中的中间件理念"><!---->综合-11-对比-Koa-和-Redux-分析前端中的中间件理念<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html" aria-label="综合-12-正则完整篇"><!---->综合-12-正则完整篇<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-13-%E6%89%93%E9%80%A0%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F.html" aria-label="综合-13-打造前端监控系统"><!---->综合-13-打造前端监控系统<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-14-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E6%9C%BA%E5%88%B6.html" aria-label="综合-14-浏览器渲染机制"><!---->综合-14-浏览器渲染机制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-15-%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E6%96%B9%E6%A1%88%E8%A7%A3%E6%9E%90.html" aria-label="综合-15-前端缓存方案解析"><!---->综合-15-前端缓存方案解析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-16-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%9F%E7%90%86.html" aria-label="综合-16-小程序原理"><!---->综合-16-小程序原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-17-%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B.html" aria-label="综合-17-深入剖析浏览器中页面的渲染过程"><!---->综合-17-深入剖析浏览器中页面的渲染过程<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-18-%E4%B8%80%E4%B8%AA%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%9B%E8%A1%8C%E7%9A%84.html" aria-label="综合-18-一个网络请求是怎么进行的"><!---->综合-18-一个网络请求是怎么进行的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/%E7%BB%BC%E5%90%88-19-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%AE%9A%E4%BD%8D.html" aria-label="综合-19-前端性能定位"><!---->综合-19-前端性能定位<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="面经"><span class="title">面经</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E9%9D%A2%E7%BB%8F-%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%BB%8F%E6%B1%87%E6%80%BB.html" aria-label="面经-前端面经汇总"><!---->面经-前端面经汇总<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="自检"><span class="title">自检</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="自检"><span class="title">自检</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E8%87%AA%E6%A3%80-1-%E5%89%8D%E7%AB%AF100%E9%A2%98%E8%87%AA%E6%A3%80.html" aria-label="自检-1-前端100题自检"><!---->自检-1-前端100题自检<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="每日一题"><span class="title">每日一题</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="每日一题"><span class="title">每日一题</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98.html" aria-label="每日一题-每日一题"><!---->每日一题-每日一题<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="http 基础"><span class="title">http 基础</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="http 基础"><span class="title">http 基础</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-01-HTTP%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F.html" aria-label="http 基础-01-HTTP的前世今生"><!---->http 基础-01-HTTP的前世今生<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-02-HTTP%E6%98%AF%E4%BB%80%E4%B9%88.html" aria-label="http 基础-02-HTTP是什么"><!---->http 基础-02-HTTP是什么<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-03-HTTP%E4%B8%96%E7%95%8C%E5%85%A8%E8%A7%88.html" aria-label="http 基础-03-HTTP世界全览"><!---->http 基础-03-HTTP世界全览<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-04-HTTP%E5%88%86%E5%B1%82.html" aria-label="http 基础-04-HTTP分层"><!---->http 基础-04-HTTP分层<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-05-%E9%94%AE%E5%85%A5%E7%BD%91%E5%9D%80%E5%88%B0%E5%9B%9E%E8%BD%A6%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88.html" aria-label="http 基础-05-键入网址到回车发生什么"><!---->http 基础-05-键入网址到回车发生什么<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-06-HTTP%E6%8A%A5%E6%96%87%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90%E7%9A%84.html" aria-label="http 基础-06-HTTP报文是什么样子的"><!---->http 基础-06-HTTP报文是什么样子的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-07-%E7%90%86%E8%A7%A3%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95.html" aria-label="http 基础-07-理解请求方法"><!---->http 基础-07-理解请求方法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-08-URI.html" aria-label="http 基础-08-URI"><!---->http 基础-08-URI<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-09-%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81.html" aria-label="http 基础-09-响应状态码"><!---->http 基础-09-响应状态码<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-10-HTTP%E6%9C%89%E5%93%AA%E4%BA%9B%E7%89%B9%E7%82%B9.html" aria-label="http 基础-10-HTTP有哪些特点"><!---->http 基础-10-HTTP有哪些特点<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-11-HTTP%E4%BC%98%E7%BC%BA%E7%82%B9.html" aria-label="http 基础-11-HTTP优缺点"><!---->http 基础-11-HTTP优缺点<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-12-HTTP%E7%9A%84%E5%AE%9E%E4%BD%93%E6%95%B0%E6%8D%AE.html" aria-label="http 基础-12-HTTP的实体数据"><!---->http 基础-12-HTTP的实体数据<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-13-HTTP%E4%BC%A0%E8%BE%93%E5%A4%A7%E6%96%87%E4%BB%B6.html" aria-label="http 基础-13-HTTP传输大文件"><!---->http 基础-13-HTTP传输大文件<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-14-HTTP%E7%9A%84%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86.html" aria-label="http 基础-14-HTTP的连接管理"><!---->http 基础-14-HTTP的连接管理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-15-HTTP%E7%9A%84%E9%87%8D%E5%AE%9A%E5%90%91.html" aria-label="http 基础-15-HTTP的重定向"><!---->http 基础-15-HTTP的重定向<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-16-HTTP%E7%9A%84Cookie%E6%9C%BA%E5%88%B6.html" aria-label="http 基础-16-HTTP的Cookie机制"><!---->http 基础-16-HTTP的Cookie机制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-17-HTTP%E7%9A%84%E7%BC%93%E5%AD%98%E6%8E%A7%E5%88%B6.html" aria-label="http 基础-17-HTTP的缓存控制"><!---->http 基础-17-HTTP的缓存控制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-18-HTTP%E7%9A%84%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1.html" aria-label="http 基础-18-HTTP的代理服务"><!---->http 基础-18-HTTP的代理服务<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-19-HTTP%E7%9A%84%E7%BC%93%E5%AD%98%E4%BB%A3%E7%90%86.html" aria-label="http 基础-19-HTTP的缓存代理"><!---->http 基础-19-HTTP的缓存代理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-20-%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E4%B8%8E%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86.html" aria-label="http 基础-20-对称加密与非对称加密"><!---->http 基础-20-对称加密与非对称加密<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-21-%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E4%B8%8E%E8%AF%81%E4%B9%A6.html" aria-label="http 基础-21-数字签名与证书"><!---->http 基础-21-数字签名与证书<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-22-TLS1-2%E8%BF%9E%E6%8E%A5%E8%BF%87%E7%A8%8B%E8%A7%A3%E6%9E%90.html" aria-label="http 基础-22-TLS1-2连接过程解析"><!---->http 基础-22-TLS1-2连接过程解析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-23-TLS1-3%E7%89%B9%E6%80%A7%E8%A7%A3%E6%9E%90.html" aria-label="http 基础-23-TLS1-3特性解析"><!---->http 基础-23-TLS1-3特性解析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-24-HTTPS%E7%9A%84%E4%BC%98%E5%8C%96.html" aria-label="http 基础-24-HTTPS的优化"><!---->http 基础-24-HTTPS的优化<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-25-%E8%BF%81%E7%A7%BB%E5%88%B0HTTPS.html" aria-label="http 基础-25-迁移到HTTPS"><!---->http 基础-25-迁移到HTTPS<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-26-HTTP2%E7%89%B9%E6%80%A7%E6%A6%82%E8%A7%88.html" aria-label="http 基础-26-HTTP2特性概览"><!---->http 基础-26-HTTP2特性概览<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-27-HTTP3%E5%B1%95%E6%9C%9B.html" aria-label="http 基础-27-HTTP3展望"><!---->http 基础-27-HTTP3展望<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-28-%E8%BF%81%E7%A7%BB%E5%88%B0HTTP2.html" aria-label="http 基础-28-迁移到HTTP2"><!---->http 基础-28-迁移到HTTP2<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-29-CDN.html" aria-label="http 基础-29-CDN"><!---->http 基础-29-CDN<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-30-webSocket.html" aria-label="http 基础-30-webSocket"><!---->http 基础-30-webSocket<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-31-HTTP%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8A.html" aria-label="http 基础-31-HTTP性能优化上"><!---->http 基础-31-HTTP性能优化上<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-32-HTTP%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8B.html" aria-label="http 基础-32-HTTP性能优化下"><!---->http 基础-32-HTTP性能优化下<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="学习路线"><span class="title">学习路线</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="学习路线"><span class="title">学习路线</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF-frontend.html" aria-label="学习路线-frontend"><!---->学习路线-frontend<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF-backend.html" aria-label="学习路线-backend"><!---->学习路线-backend<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="好文"><span class="title">好文</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="好文"><span class="title">好文</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-i-tried-react-compiler.html" aria-label="好文-i-tried-react-compiler"><!---->好文-i-tried-react-compiler<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-html-script-element-attributes-async-vs-defer-vs-typemodule.html" aria-label="好文-html-script-element-attributes-async-vs-defer-vs-typemodule"><!---->好文-html-script-element-attributes-async-vs-defer-vs-typemodule<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-speeding-up-javascript-ecosystem-part-9.html" aria-label="好文-speeding-up-javascript-ecosystem-part-9"><!---->好文-speeding-up-javascript-ecosystem-part-9<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-web-optimization.html" aria-label="好文-网站优化实战"><!---->好文-网站优化实战<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-web-optimization-tools.html" aria-label="好文-web-optimization-tools"><!---->好文-web-optimization-tools<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-about-web-fmp.html" aria-label="好文-about-web-fmp"><!---->好文-about-web-fmp<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar"><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="首页"><!---->首页<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="题库"><span class="title">题库</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="题库"><span class="title">题库</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%9F%BA%E7%A1%80%E7%AF%87.html" aria-label="基础篇"><!---->基础篇<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E8%BF%9B%E9%98%B6%E7%AF%87.html" aria-label="进阶篇"><!---->进阶篇<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E9%AB%98%E9%A2%91%E7%AF%87.html" aria-label="高频篇"><!---->高频篇<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/HTML.html" aria-label="HTML"><!---->HTML<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/CSS.html" aria-label="CSS"><!---->CSS<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/JavaScript.html" aria-label="JavaScript"><!---->JavaScript<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ES6.html" aria-label="ES6"><!---->ES6<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%B5%8F%E8%A7%88%E5%99%A8.html" aria-label="浏览器"><!---->浏览器<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React.html" aria-label="React"><!---->React<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue.html" aria-label="Vue"><!---->Vue<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Node.html" aria-label="Node"><!---->Node<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96.html" aria-label="前端工程化"><!---->前端工程化<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%A7%BB%E5%8A%A8%E5%A4%9A%E7%AB%AF%E5%BC%80%E5%8F%91.html" aria-label="移动多端开发"><!---->移动多端开发<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%B0%8F%E7%A8%8B%E5%BA%8F.html" aria-label="小程序"><!---->小程序<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Uniapp.html" aria-label="Uniapp"><!---->Uniapp<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8.html" aria-label="前端安全"><!---->前端安全<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" aria-label="性能优化"><!---->性能优化<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/HTTP.html" aria-label="HTTP"><!---->HTTP<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%B8%B8%E7%94%A8%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" aria-label="常用设计模式"><!---->常用设计模式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%202.html" aria-label="设计模式 2"><!---->设计模式 2<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%A1%86%E6%9E%B6%E9%80%9A%E8%AF%86.html" aria-label="框架通识"><!---->框架通识<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95.html" aria-label="排序算法"><!---->排序算法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%80%9A%E8%AF%86.html" aria-label="计算机通识"><!---->计算机通识<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Vue 源码解析"><span class="title">Vue 源码解析</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Vue 源码解析"><span class="title">Vue 源码解析</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue%E6%BA%90%E7%A0%81.html" aria-label="Vue-生命周期"><!---->Vue-生命周期<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E7%BB%84%E4%BB%B6%E7%9A%84%E6%9C%AC%E8%B4%A8.html" aria-label="Vue-组件的本质"><!---->Vue-组件的本质<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E6%9C%89%E7%8A%B6%E6%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E8%AE%BE%E8%AE%A1.html" aria-label="Vue-有状态组件的设计"><!---->Vue-有状态组件的设计<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-VNode.html" aria-label="Vue-VNode"><!---->Vue-VNode<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E8%BE%85%E5%8A%A9%E5%88%9B%E5%BB%BA%20VNode%20%E7%9A%84%20h%20%E5%87%BD%E6%95%B0.html" aria-label="Vue-辅助创建VNode的h函数"><!---->Vue-辅助创建VNode的h函数<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B8%B2%E6%9F%93%E5%99%A8%E5%92%8C%E5%BC%82%E6%AD%A5%E6%B8%B2%E6%9F%93.html" aria-label="Vue-自定义渲染器和异步渲染"><!---->Vue-自定义渲染器和异步渲染<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B9%8B%E6%8C%82%E8%BD%BD.html" aria-label="Vue-渲染器之挂载"><!---->Vue-渲染器之挂载<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E6%B8%B2%E6%9F%93%E5%99%A8%E7%9A%84%E6%A0%B8%E5%BF%83%20Diff%20%E7%AE%97%E6%B3%95.html" aria-label="Vue-渲染器的核心 Diff 算法"><!---->Vue-渲染器的核心 Diff 算法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E6%B8%B2%E6%9F%93%E5%99%A8%E4%B9%8B%20patch.html" aria-label="Vue-渲染器之patch"><!---->Vue-渲染器之patch<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E5%9B%BE%E8%A7%A3%20Vue%20%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86.html" aria-label="Vue-图解 Vue 响应式原理"><!---->Vue-图解 Vue 响应式原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E5%9B%BE%E8%A7%A3%20Vue%20%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0.html" aria-label="Vue-图解 Vue 异步更新"><!---->Vue-图解 Vue 异步更新<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E5%89%96%E6%9E%90%20Vue%20%E5%86%85%E9%83%A8%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6.html" aria-label="Vue-剖析 Vue 内部运行机制"><!---->Vue-剖析 Vue 内部运行机制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86%E6%A8%A1%E6%8B%9F.html" aria-label="Vue-vue响应式原理模拟"><!---->Vue-vue响应式原理模拟<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E4%B9%8Bvuex.html" aria-label="Vue-vue状态管理之vuex"><!---->Vue-vue状态管理之vuex<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-%E7%90%86%E8%A7%A3Vue%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%E5%8F%8A%E5%AE%9E%E7%8E%B0Vue.html" aria-label="Vue-理解Vue的设计思想及实现Vue"><!---->Vue-理解Vue的设计思想及实现Vue<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-diff%E7%AE%97%E6%B3%95%E6%B7%B1%E5%85%A5.html" aria-label="Vue-diff算法深入"><!---->Vue-diff算法深入<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue%20router%20vuex%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90.html" aria-label="Vue-vue router vuex原理分析"><!---->Vue-vue router vuex原理分析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-Vue3%E5%88%9D%E6%8E%A2%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86..html" aria-label="Vue-Vue3初探响应式原理."><!---->Vue-Vue3初探响应式原理.<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue2%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html" aria-label="Vue-vue2源码分析"><!---->Vue-vue2源码分析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Vue-vue%E7%BB%84%E4%BB%B6%E5%8C%96%E5%AE%9E%E8%B7%B5.html" aria-label="Vue-vue组件化实践"><!---->Vue-vue组件化实践<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="React"><span class="title">React</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="React"><span class="title">React</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-React%20router%E5%8E%9F%E7%90%86.html" aria-label="React-React router原理"><!---->React-React router原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-dva%20%E6%80%BB%E7%BB%93.html" aria-label="React-dva 总结"><!---->React-dva 总结<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Mobx%20%E6%80%BB%E7%BB%93.html" aria-label="React-Mobx 总结"><!---->React-Mobx 总结<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-%E6%B5%85%E6%9E%90redux%20saga%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%8F%8A%E7%94%A8%E6%B3%95.html" aria-label="React-浅析redux saga中间件及用法"><!---->React-浅析redux saga中间件及用法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Redux%E4%B9%8B%E6%B5%85%E6%9E%90%E4%B8%AD%E9%97%B4%E4%BB%B6.html" aria-label="React-Redux之浅析中间件"><!---->React-Redux之浅析中间件<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Redux%E4%B9%8B%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html" aria-label="React-Redux之源码分析"><!---->React-Redux之源码分析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Redux%E4%B9%8B%E5%BC%82%E6%AD%A5Action%E5%8F%8A%E6%93%8D%E4%BD%9C.html" aria-label="React-Redux之异步Action及操作"><!---->React-Redux之异步Action及操作<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-%E6%B5%85%E6%9E%90%E4%B8%AD%E9%97%B4%E4%BB%B6.html" aria-label="React-浅析中间件"><!---->React-浅析中间件<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-react%E7%BB%93%E5%90%88redux%E5%AE%9E%E6%88%98.html" aria-label="React-react结合redux实战"><!---->React-react结合redux实战<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-Immutable%E6%80%BB%E7%BB%93.html" aria-label="React-Immutable总结"><!---->React-Immutable总结<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-React16%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9B%B4%E6%94%B9%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%8A.html" aria-label="React-React16为什么要更改生命周期上"><!---->React-React16为什么要更改生命周期上<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-React16%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%9B%B4%E6%94%B9%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%B8%8B.html" aria-label="React-React16为什么要更改生命周期下"><!---->React-React16为什么要更改生命周期下<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-React%20Hooks%20%E8%AE%BE%E8%AE%A1%E5%8A%A8%E6%9C%BA%E4%B8%8E%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F.html" aria-label="React-React Hooks 设计动机与工作模式"><!---->React-React Hooks 设计动机与工作模式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-%E6%B7%B1%E5%85%A5%20React%20Hooks%20%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6.html" aria-label="React-深入 React Hooks 工作机制"><!---->React-深入 React Hooks 工作机制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-15-%E7%9C%9F%E6%AD%A3%E7%90%86%E8%A7%A3%E8%99%9A%E6%8B%9FDOM.html" aria-label="React-15-真正理解虚拟DOM"><!---->React-15-真正理解虚拟DOM<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-17-setState-%E5%88%B0%E5%BA%95%E6%98%AF%E5%90%8C%E6%AD%A5%E7%9A%84-%E8%BF%98%E6%98%AF%E5%BC%82%E6%AD%A5%E7%9A%84.html" aria-label="React-17-setState-到底是同步的-还是异步的"><!---->React-17-setState-到底是同步的-还是异步的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-16-React-%E4%B8%AD%E7%9A%84-%E6%A0%88%E8%B0%83%E5%92%8C-Stack-Reconciler-%E8%BF%87%E7%A8%8B%E6%98%AF%E6%80%8E%E6%A0%B7%E7%9A%84.html" aria-label="React-16-React-中的-栈调和-Stack-Reconciler-过程是怎样的"><!---->React-16-React-中的-栈调和-Stack-Reconciler-过程是怎样的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-18-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3-Fiber-%E6%9E%B6%E6%9E%84%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%8A%A8%E6%9C%BA%E4%B8%8E%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3.html" aria-label="React-18-如何理解-Fiber-架构的迭代动机与设计思想"><!---->React-18-如何理解-Fiber-架构的迭代动机与设计思想<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-19-ReactDOM-render-%E6%98%AF%E5%A6%82%E4%BD%95%E4%B8%B2%E8%81%94%E6%B8%B2%E6%9F%93%E9%93%BE%E8%B7%AF%E7%9A%84.html" aria-label="React-19-ReactDOM-render-是如何串联渲染链路的"><!---->React-19-ReactDOM-render-是如何串联渲染链路的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-20-%E5%89%96%E6%9E%90-Fiber-%E6%9E%B6%E6%9E%84%E4%B8%8B-Concurrent-%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86.html" aria-label="React-20-剖析-Fiber-架构下-Concurrent-模式的实现原理"><!---->React-20-剖析-Fiber-架构下-Concurrent-模式的实现原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-21-React-%E4%BA%8B%E4%BB%B6%E4%B8%8E-DOM-%E4%BA%8B%E4%BB%B6%E6%9C%89%E4%BD%95%E4%B8%8D%E5%90%8C.html" aria-label="React-21-React-事件与-DOM-事件有何不同"><!---->React-21-React-事件与-DOM-事件有何不同<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-22-%E6%8F%AD%E7%A7%98-Redux-%E8%AE%BE%E8%AE%A1%E6%80%9D%E6%83%B3%E4%B8%8E%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.html" aria-label="React-22-揭秘-Redux-设计思想与工作原理"><!---->React-22-揭秘-Redux-设计思想与工作原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-23-%E4%BB%8E-Redux-%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%88%87%E5%85%A5-%E7%90%86%E8%A7%A3-%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B-.html" aria-label="React-23-从-Redux-中间件实现原理切入-理解-面向切面编程-"><!---->React-23-从-Redux-中间件实现原理切入-理解-面向切面编程-<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-24-%E5%A6%82%E4%BD%95%E6%89%93%E9%80%A0%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84-React-%E5%BA%94%E7%94%A8.html" aria-label="React-24-如何打造高性能的-React-应用"><!---->React-24-如何打造高性能的-React-应用<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-25-%E8%B7%9F-React-%E5%AD%A6%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" aria-label="React-25-跟-React-学设计模式"><!---->React-25-跟-React-学设计模式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-26-React%E5%85%A8%E9%83%A8api%E8%A7%A3%E8%AF%BB.html" aria-label="React-26-React全部api解读"><!---->React-26-React全部api解读<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/React-27-Taro%E5%8E%9F%E7%90%86.html" aria-label="React-27-Taro原理"><!---->React-27-Taro原理<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Webpack"><span class="title">Webpack</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Webpack"><span class="title">Webpack</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-01-Webpack4%E6%89%93%E5%8C%85%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90.html" aria-label="Webpack-01-Webpack4打包机制原理解析"><!---->Webpack-01-Webpack4打包机制原理解析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-02-webpack%E4%B8%AD%E7%9A%84HMR%E7%83%AD%E6%9B%B4%E6%96%B0%E5%8E%9F%E7%90%86%E5%89%96%E6%9E%90.html" aria-label="Webpack-02-webpack中的HMR热更新原理剖析"><!---->Webpack-02-webpack中的HMR热更新原理剖析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-03-%E4%BB%8E%E6%BA%90%E7%A0%81%E7%AA%A5%E6%8E%A2Webpack4-x%E5%8E%9F%E7%90%86.html" aria-label="Webpack-03-从源码窥探Webpack4-x原理"><!---->Webpack-03-从源码窥探Webpack4-x原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-04-%E5%AE%9E%E7%8E%B0webpack%E5%B0%8F%E5%9E%8B%E6%89%93%E5%8C%85%E5%B7%A5%E5%85%B7.html" aria-label="Webpack-04-实现webpack小型打包工具"><!---->Webpack-04-实现webpack小型打包工具<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-05-Babel%E5%8E%9F%E7%90%86%E5%8F%8A%E5%85%B6%E4%BD%BF%E7%94%A8.html" aria-label="Webpack-05-Babel原理及其使用"><!---->Webpack-05-Babel原理及其使用<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-06-Webpack-%E4%B8%8E-Rollup-%E4%BA%8C%E8%80%85%E4%B9%8B%E9%97%B4%E8%AF%A5%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9.html" aria-label="Webpack-06-Webpack-与-Rollup-二者之间该如何选择"><!---->Webpack-06-Webpack-与-Rollup-二者之间该如何选择<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-07-%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA%E6%96%B0%E7%8E%A9%E6%B3%95-Vite-%E4%B8%8A%E6%89%8B%E4%B8%8E%E6%80%9D%E8%80%83.html" aria-label="Webpack-07-前端构建新玩法-Vite-上手与思考"><!---->Webpack-07-前端构建新玩法-Vite-上手与思考<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-08-%E5%88%A9%E7%94%A8-Webpack-CodeSplitting-%E5%AE%8C%E6%88%90%E5%A4%8D%E6%9D%82%E5%BA%94%E7%94%A8%E6%8B%86%E5%8C%85.html" aria-label="Webpack-08-利用-Webpack-CodeSplitting-完成复杂应用拆包"><!---->Webpack-08-利用-Webpack-CodeSplitting-完成复杂应用拆包<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-09-%E7%8E%A9%E8%BD%AC-Webpack-%E7%9A%84-TreeShaking-%E4%B8%8E-sideEffects-%E7%89%B9%E6%80%A7.html" aria-label="Webpack-09-玩转-Webpack-的-TreeShaking-与-sideEffects-特性"><!---->Webpack-09-玩转-Webpack-的-TreeShaking-与-sideEffects-特性<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-10-%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE-Webpack-SourceMap-%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html" aria-label="Webpack-10-如何配置-Webpack-SourceMap-的最佳实践"><!---->Webpack-10-如何配置-Webpack-SourceMap-的最佳实践<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Webpack-11-Webpack-%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6%E4%B8%8E%E6%A0%B8%E5%BF%83%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.html" aria-label="Webpack-11-Webpack-运行机制与核心工作原理"><!---->Webpack-11-Webpack-运行机制与核心工作原理<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Node"><span class="title">Node</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Node"><span class="title">Node</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Node-01-Node%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86.html" aria-label="Node-01-Node事件循环机制原理"><!---->Node-01-Node事件循环机制原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Node-02-express%E8%AF%A6%E7%BB%86%E4%BD%BF%E7%94%A8.html" aria-label="Node-02-express详细使用"><!---->Node-02-express详细使用<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Node-03-koa%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95.html" aria-label="Node-03-koa基本用法"><!---->Node-03-koa基本用法<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Javascript"><span class="title">Javascript</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Javascript"><span class="title">Javascript</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Javascript-01-JavaScript-%E5%BC%95%E6%93%8E%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C-JavaScript-%E4%BB%A3%E7%A0%81.html" aria-label="Javascript-01-JavaScript-引擎如何执行-JavaScript-代码"><!---->Javascript-01-JavaScript-引擎如何执行-JavaScript-代码<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/Javascript-02-%E5%8D%95%E7%BA%BF%E7%A8%8B%E7%9A%84-JavaScript-%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86%E4%BB%BB%E5%8A%A1.html" aria-label="Javascript-02-单线程的-JavaScript-如何管理任务"><!---->Javascript-02-单线程的-JavaScript-如何管理任务<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="综合"><span class="title">综合</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="综合"><span class="title">综合</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-01-%E8%99%9A%E6%8B%9FDOM%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90-%E4%BB%80%E4%B9%88%E6%98%AF-virtual-dom.html" aria-label="综合-01-虚拟DOM原理分析-什么是-virtual-dom"><!---->综合-01-虚拟DOM原理分析-什么是-virtual-dom<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-02-setTimeout%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%92%8C%E4%BD%BF%E7%94%A8%E6%B3%A8%E6%84%8F.html" aria-label="综合-02-setTimeout实现原理和使用注意"><!---->综合-02-setTimeout实现原理和使用注意<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-03-%E6%B5%85%E6%9E%90Promise%E5%8E%9F%E7%90%86.html" aria-label="综合-03-浅析Promise原理"><!---->综合-03-浅析Promise原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-04-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E5%8E%9F%E7%90%86.html" aria-label="综合-04-浏览器渲染原理"><!---->综合-04-浏览器渲染原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-05-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B9%8BMVVM%E6%B5%85%E6%9E%90.html" aria-label="综合-05-前端面试之MVVM浅析"><!---->综合-05-前端面试之MVVM浅析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-06-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E4%B9%8B%E7%BB%84%E4%BB%B6%E5%8C%96.html" aria-label="综合-06-前端面试之组件化"><!---->综合-06-前端面试之组件化<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-07-%E8%99%9A%E6%8B%9FDOM-%E4%B8%80-.html" aria-label="综合-07-虚拟DOM-一-"><!---->综合-07-虚拟DOM-一-<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-08-%E8%99%9A%E6%8B%9FDOM-%E4%BA%8C-.html" aria-label="综合-08-虚拟DOM-二-"><!---->综合-08-虚拟DOM-二-<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-09-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%B9%8BPerformance.html" aria-label="综合-09-前端性能之Performance"><!---->综合-09-前端性能之Performance<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-10-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5.html" aria-label="综合-10-小程序开发实践"><!---->综合-10-小程序开发实践<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-11-%E5%AF%B9%E6%AF%94-Koa-%E5%92%8C-Redux-%E5%88%86%E6%9E%90%E5%89%8D%E7%AB%AF%E4%B8%AD%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6%E7%90%86%E5%BF%B5.html" aria-label="综合-11-对比-Koa-和-Redux-分析前端中的中间件理念"><!---->综合-11-对比-Koa-和-Redux-分析前端中的中间件理念<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html" aria-label="综合-12-正则完整篇"><!---->综合-12-正则完整篇<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-13-%E6%89%93%E9%80%A0%E5%89%8D%E7%AB%AF%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F.html" aria-label="综合-13-打造前端监控系统"><!---->综合-13-打造前端监控系统<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-14-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E6%9C%BA%E5%88%B6.html" aria-label="综合-14-浏览器渲染机制"><!---->综合-14-浏览器渲染机制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-15-%E5%89%8D%E7%AB%AF%E7%BC%93%E5%AD%98%E6%96%B9%E6%A1%88%E8%A7%A3%E6%9E%90.html" aria-label="综合-15-前端缓存方案解析"><!---->综合-15-前端缓存方案解析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-16-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8E%9F%E7%90%86.html" aria-label="综合-16-小程序原理"><!---->综合-16-小程序原理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-17-%E6%B7%B1%E5%85%A5%E5%89%96%E6%9E%90%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B.html" aria-label="综合-17-深入剖析浏览器中页面的渲染过程"><!---->综合-17-深入剖析浏览器中页面的渲染过程<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E7%BB%BC%E5%90%88-18-%E4%B8%80%E4%B8%AA%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%98%AF%E6%80%8E%E4%B9%88%E8%BF%9B%E8%A1%8C%E7%9A%84.html" aria-label="综合-18-一个网络请求是怎么进行的"><!---->综合-18-一个网络请求是怎么进行的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/%E7%BB%BC%E5%90%88-19-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%AE%9A%E4%BD%8D.html" aria-label="综合-19-前端性能定位"><!---->综合-19-前端性能定位<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="面经"><span class="title">面经</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="面经"><span class="title">面经</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E9%9D%A2%E7%BB%8F-%E5%89%8D%E7%AB%AF%E9%9D%A2%E7%BB%8F%E6%B1%87%E6%80%BB.html" aria-label="面经-前端面经汇总"><!---->面经-前端面经汇总<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="自检"><span class="title">自检</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="自检"><span class="title">自检</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E8%87%AA%E6%A3%80-1-%E5%89%8D%E7%AB%AF100%E9%A2%98%E8%87%AA%E6%A3%80.html" aria-label="自检-1-前端100题自检"><!---->自检-1-前端100题自检<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="每日一题"><span class="title">每日一题</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="每日一题"><span class="title">每日一题</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98-%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98.html" aria-label="每日一题-每日一题"><!---->每日一题-每日一题<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="http 基础"><span class="title">http 基础</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="http 基础"><span class="title">http 基础</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-01-HTTP%E7%9A%84%E5%89%8D%E4%B8%96%E4%BB%8A%E7%94%9F.html" aria-label="http 基础-01-HTTP的前世今生"><!---->http 基础-01-HTTP的前世今生<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-02-HTTP%E6%98%AF%E4%BB%80%E4%B9%88.html" aria-label="http 基础-02-HTTP是什么"><!---->http 基础-02-HTTP是什么<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-03-HTTP%E4%B8%96%E7%95%8C%E5%85%A8%E8%A7%88.html" aria-label="http 基础-03-HTTP世界全览"><!---->http 基础-03-HTTP世界全览<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-04-HTTP%E5%88%86%E5%B1%82.html" aria-label="http 基础-04-HTTP分层"><!---->http 基础-04-HTTP分层<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-05-%E9%94%AE%E5%85%A5%E7%BD%91%E5%9D%80%E5%88%B0%E5%9B%9E%E8%BD%A6%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88.html" aria-label="http 基础-05-键入网址到回车发生什么"><!---->http 基础-05-键入网址到回车发生什么<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-06-HTTP%E6%8A%A5%E6%96%87%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90%E7%9A%84.html" aria-label="http 基础-06-HTTP报文是什么样子的"><!---->http 基础-06-HTTP报文是什么样子的<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-07-%E7%90%86%E8%A7%A3%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95.html" aria-label="http 基础-07-理解请求方法"><!---->http 基础-07-理解请求方法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-08-URI.html" aria-label="http 基础-08-URI"><!---->http 基础-08-URI<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-09-%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81.html" aria-label="http 基础-09-响应状态码"><!---->http 基础-09-响应状态码<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-10-HTTP%E6%9C%89%E5%93%AA%E4%BA%9B%E7%89%B9%E7%82%B9.html" aria-label="http 基础-10-HTTP有哪些特点"><!---->http 基础-10-HTTP有哪些特点<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-11-HTTP%E4%BC%98%E7%BC%BA%E7%82%B9.html" aria-label="http 基础-11-HTTP优缺点"><!---->http 基础-11-HTTP优缺点<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-12-HTTP%E7%9A%84%E5%AE%9E%E4%BD%93%E6%95%B0%E6%8D%AE.html" aria-label="http 基础-12-HTTP的实体数据"><!---->http 基础-12-HTTP的实体数据<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-13-HTTP%E4%BC%A0%E8%BE%93%E5%A4%A7%E6%96%87%E4%BB%B6.html" aria-label="http 基础-13-HTTP传输大文件"><!---->http 基础-13-HTTP传输大文件<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-14-HTTP%E7%9A%84%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86.html" aria-label="http 基础-14-HTTP的连接管理"><!---->http 基础-14-HTTP的连接管理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-15-HTTP%E7%9A%84%E9%87%8D%E5%AE%9A%E5%90%91.html" aria-label="http 基础-15-HTTP的重定向"><!---->http 基础-15-HTTP的重定向<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-16-HTTP%E7%9A%84Cookie%E6%9C%BA%E5%88%B6.html" aria-label="http 基础-16-HTTP的Cookie机制"><!---->http 基础-16-HTTP的Cookie机制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-17-HTTP%E7%9A%84%E7%BC%93%E5%AD%98%E6%8E%A7%E5%88%B6.html" aria-label="http 基础-17-HTTP的缓存控制"><!---->http 基础-17-HTTP的缓存控制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-18-HTTP%E7%9A%84%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1.html" aria-label="http 基础-18-HTTP的代理服务"><!---->http 基础-18-HTTP的代理服务<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-19-HTTP%E7%9A%84%E7%BC%93%E5%AD%98%E4%BB%A3%E7%90%86.html" aria-label="http 基础-19-HTTP的缓存代理"><!---->http 基础-19-HTTP的缓存代理<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-20-%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86%E4%B8%8E%E9%9D%9E%E5%AF%B9%E7%A7%B0%E5%8A%A0%E5%AF%86.html" aria-label="http 基础-20-对称加密与非对称加密"><!---->http 基础-20-对称加密与非对称加密<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-21-%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D%E4%B8%8E%E8%AF%81%E4%B9%A6.html" aria-label="http 基础-21-数字签名与证书"><!---->http 基础-21-数字签名与证书<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-22-TLS1-2%E8%BF%9E%E6%8E%A5%E8%BF%87%E7%A8%8B%E8%A7%A3%E6%9E%90.html" aria-label="http 基础-22-TLS1-2连接过程解析"><!---->http 基础-22-TLS1-2连接过程解析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-23-TLS1-3%E7%89%B9%E6%80%A7%E8%A7%A3%E6%9E%90.html" aria-label="http 基础-23-TLS1-3特性解析"><!---->http 基础-23-TLS1-3特性解析<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-24-HTTPS%E7%9A%84%E4%BC%98%E5%8C%96.html" aria-label="http 基础-24-HTTPS的优化"><!---->http 基础-24-HTTPS的优化<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-25-%E8%BF%81%E7%A7%BB%E5%88%B0HTTPS.html" aria-label="http 基础-25-迁移到HTTPS"><!---->http 基础-25-迁移到HTTPS<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-26-HTTP2%E7%89%B9%E6%80%A7%E6%A6%82%E8%A7%88.html" aria-label="http 基础-26-HTTP2特性概览"><!---->http 基础-26-HTTP2特性概览<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-27-HTTP3%E5%B1%95%E6%9C%9B.html" aria-label="http 基础-27-HTTP3展望"><!---->http 基础-27-HTTP3展望<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-28-%E8%BF%81%E7%A7%BB%E5%88%B0HTTP2.html" aria-label="http 基础-28-迁移到HTTP2"><!---->http 基础-28-迁移到HTTP2<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-29-CDN.html" aria-label="http 基础-29-CDN"><!---->http 基础-29-CDN<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-30-webSocket.html" aria-label="http 基础-30-webSocket"><!---->http 基础-30-webSocket<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-31-HTTP%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8A.html" aria-label="http 基础-31-HTTP性能优化上"><!---->http 基础-31-HTTP性能优化上<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/http%20%E5%9F%BA%E7%A1%80-32-HTTP%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B8%8B.html" aria-label="http 基础-32-HTTP性能优化下"><!---->http 基础-32-HTTP性能优化下<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="学习路线"><span class="title">学习路线</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="学习路线"><span class="title">学习路线</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF-frontend.html" aria-label="学习路线-frontend"><!---->学习路线-frontend<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF-backend.html" aria-label="学习路线-backend"><!---->学习路线-backend<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="好文"><span class="title">好文</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="好文"><span class="title">好文</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-i-tried-react-compiler.html" aria-label="好文-i-tried-react-compiler"><!---->好文-i-tried-react-compiler<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-html-script-element-attributes-async-vs-defer-vs-typemodule.html" aria-label="好文-html-script-element-attributes-async-vs-defer-vs-typemodule"><!---->好文-html-script-element-attributes-async-vs-defer-vs-typemodule<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-speeding-up-javascript-ecosystem-part-9.html" aria-label="好文-speeding-up-javascript-ecosystem-part-9"><!---->好文-speeding-up-javascript-ecosystem-part-9<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-web-optimization.html" aria-label="好文-网站优化实战"><!---->好文-网站优化实战<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-web-optimization-tools.html" aria-label="好文-web-optimization-tools"><!---->好文-web-optimization-tools<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/%E5%A5%BD%E6%96%87-about-web-fmp.html" aria-label="好文-about-web-fmp"><!---->好文-about-web-fmp<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading"> <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><p>原文链接: <a href="https://interview.poetries.top/principle-docs/comprehensive/19-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%AE%9A%E4%BD%8D.html" target="_blank" rel="noopener noreferrer">https://interview.poetries.top/principle-docs/comprehensive/19-%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E5%AE%9A%E4%BD%8D.html</a></p><h2 id="性能优化的意义" tabindex="-1"><a class="header-anchor" href="#性能优化的意义"><span>性能优化的意义</span></a></h2><h3 id="性能是留住用户很重要的一环" tabindex="-1"><a class="header-anchor" href="#性能是留住用户很重要的一环"><span>性能是留住用户很重要的一环</span></a></h3><ul><li><strong>pinterest</strong> 重建了他们的页面以实现性能，使感知等待时间减少了 <strong>40％</strong> ，从而将搜索引擎流量和注册量提高了 <strong>15％</strong> 。</li><li>通过将平均页面加载时间减少 850 毫秒，<strong>COOK</strong> 发现他们能够将转化率提高 7％，将跳出率降低 7％，并将每个页面的页面数量增加 10％。</li><li><strong>BBC</strong> 发现，他们在网站加载的每<strong>一秒钟</strong> 内就会损失 <strong>10％</strong> 的用户。</li><li><strong>DoubleClick by Google</strong> 发现，如果网页加载时间超过 <strong>3</strong> 秒，则会有 <strong>53％</strong> 的用户放弃移动网站的访问。</li></ul><h3 id="性能是改善转换率至关重要的一环" tabindex="-1"><a class="header-anchor" href="#性能是改善转换率至关重要的一环"><span>性能是改善转换率至关重要的一环</span></a></h3><ul><li>对于 <strong>Mobify</strong> ，主页加载速度每减少 100 毫秒，基于会话的转换增加 1.11％，平均年收入增加近 <strong>380,000</strong> 美元。此外，结账页面加载速度减少 100 毫秒，基于会话的转换增加了 1.55％，从而使年均收入增长近 <strong>530,000</strong> 美元</li><li><strong>DoubleClick</strong> 发现在 5 秒内加载网站的发布商的广告收入是在 19 秒内加载的网站的<strong>两倍</strong> 。. 当 <strong>AutoAnything</strong> 将页面加载时间缩短一半时，他们的销售额增长了 <strong>12-13％</strong> 。</li></ul><h3 id="用户角度的性能标准是什么" tabindex="-1"><a class="header-anchor" href="#用户角度的性能标准是什么"><span>用户角度的性能标准是什么</span></a></h3><h4 id="著名的-2-5-8-原则" tabindex="-1"><a class="header-anchor" href="#著名的-2-5-8-原则"><span>著名的 2-5-8 原则</span></a></h4><ul><li>当用户能够在 2 秒以内得到响应时，会感觉系统的响应很快；</li><li>当用户在 2-5 秒之间得到响应时，会感觉系统的响应速度还可以；</li><li>当用户在 5-8 秒以内得到响应时，会感觉系统的响应速度很慢，但是还可以接受；</li><li>而当用户在超过 8 秒后仍然无法得到响应时，会感觉系统糟透了，或者认为系统已经失去响应，而选择离开这个 Web 站点，或者发起第二次请求。</li></ul><p><strong>综上所述：一个网站的性能好坏是留住用户和实现变现的基础</strong></p><blockquote><p>而我们的目标就是力争 1s，保住 2s</p></blockquote><p><code>1s</code> 的差距，看似微乎其微，但这 <code>1s</code>，浏览器实际上可以做非常多的事情 接下来让我们来看看如何对一个网站进行性能分析</p><h2 id="rail模型" tabindex="-1"><a class="header-anchor" href="#rail模型"><span>RAIL模型</span></a></h2><p><code>RAIL</code>是<code>Response</code>，<code>Animation</code>，<code>Idle</code>和<code>Load</code>的首字母缩写，是一种由<code>Google Chrome</code>团队于<code>2015年</code>提出的性能模型，用于提升浏览器的用户体验和性能。</p><p><code>RAIL</code>模型的理念是以用户为中心，最终目标并不是让你的网站在任何特定设备上都能运行很快，而是使用户满意。</p><p><code>Response</code>: 应该尽可能快速的响应用户的操作，应在在<code>100ms</code>以内响应用户输入。</p><p><code>Animation</code>: 在展示动画的时候，每一帧应该以<code>16ms</code>进行渲染，这样可以保持动画效果的一致性，并且避免卡顿。</p><p><code>Idle</code>: 当使用<code>js</code>主线程的时候，应该把任务划分到执行时间小于<code>50ms</code>的片段中去，这样可以释放线程以进行用户交互。<code>50ms</code>为单位是为了保证用户在发生操作的<code>100ms</code>内做出响应。</p><p>要使网站响应迅速，动画流畅，通常都需要较长的处理时间，但以用户为中心来看待性能问题，就会发现并非所有工作都需要在响应和加载阶段完成，完全可以利用浏览器的空闲时间处理可延迟的任务，只要让用户感受不到延迟即可。利用空闲时间处理延迟可减少预加载的数据大小，以保证网站或应用快速完成加载。</p><p><code>Load</code>: 应该在小于<code>1s</code>的时间内加载完成你的网站，并可以进行用户交互。根据网络条件和硬件的不同，用户对性能延迟的理解也有所不同，在<code>3G</code>网络需要花费更多的时间，<code>5s</code>是一个更现实的目标。</p><h2 id="常见性能指标" tabindex="-1"><a class="header-anchor" href="#常见性能指标"><span>常见性能指标</span></a></h2><h3 id="_1-fp-白屏-first-paint" tabindex="-1"><a class="header-anchor" href="#_1-fp-白屏-first-paint"><span>1. FP 白屏（First Paint ）</span></a></h3><blockquote><p><code>首次绘制</code>，是时间线上的第一个<code>时间点</code>，它代表网页的第一个像素渲染到屏幕上所用时间，也就是页面在屏幕上首次发生视觉变化的时间</p></blockquote><p>白屏时间过长，会让用户认为我们的页面不能用或者可用性差</p><p><img src="/images/s_poetries_work_uploads_2022_10_e9e86c2fb3c512b6.png" alt=""></p><p><strong>统计逻辑</strong></p><p>通过<code>performance.getEntriesByType(&#39;paint&#39;)</code>，取第一个<code>paint</code>的时间。如：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token keyword">function</span> <span class="token function">getFPTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> timings <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&#39;paint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> timings <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>timings<span class="token punctuation">.</span>startTime<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span></span>
<span class="line">    <span class="token punctuation">}</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-fcp-首屏-first-contentful-paint" tabindex="-1"><a class="header-anchor" href="#_2-fcp-首屏-first-contentful-paint"><span>2.FCP 首屏（first contentful paint ）</span></a></h3><blockquote><p><code>首次内容绘制</code>，它代表浏览器第一次向屏幕绘<code>内容</code>。注意：只有首次绘制文本、图片（包含背景图）、非白色的<code>canvas</code>或<code>SVG</code>时才被算作<code>FCP</code></p></blockquote><p><img src="/images/s_poetries_work_uploads_2022_10_5f72a00c10594524.png" alt=""></p><table><thead><tr><th>FCP时间(秒)</th><th>颜色编码</th><th>FPC分数</th></tr></thead><tbody><tr><td>0 - 2</td><td>绿色(快)</td><td>75 - 100</td></tr><tr><td>2 - 4</td><td>橙色(中等)</td><td>50 - 74</td></tr><tr><td>超过4</td><td>红色(慢)</td><td>0 - 49</td></tr></tbody></table><p><strong>统计逻辑</strong></p><p>通过<code>performance.getEntriesByType(&#39;paint’)</code>，取第二个<code>paint</code>的时间，或者通过<code>Mutation Observer</code>观察到首次节点变动的时间。如</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token keyword">function</span> <span class="token function">getFPTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> timings <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&#39;paint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span><span class="token punctuation">(</span>timings<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">return</span> timings<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span></span>
<span class="line">        <span class="token keyword">return</span> timings <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>timings<span class="token punctuation">.</span>startTime<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span></span>
<span class="line">    <span class="token punctuation">}</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token keyword">function</span> <span class="token function">getFPTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> domEntries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">      <span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">mutationsList</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> mutation <span class="token keyword">of</span> mutationsList<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">              <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&#39;childList&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;A child node has been added or removed.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">              <span class="token punctuation">}</span></span>
<span class="line">              <span class="token keyword">if</span> <span class="token punctuation">(</span>mutation<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&#39;addedNodes&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                  <span class="token comment">//TODO新增了节点，做处理，计算此时的可见性/位置/出现时间等信息，然后 push 进数组</span></span>
<span class="line">                  <span class="token operator">...</span></span>
<span class="line">                  domEntries<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>mutation<span class="token punctuation">)</span> </span>
<span class="line">              <span class="token punctuation">}</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      </span>
<span class="line">       <span class="token comment">//伪代码,算 DOM 变化时的最小那个时间，即节点首次变动的时间</span></span>
<span class="line">       <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>domEntries<span class="token punctuation">.</span>length <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token operator">...</span>domEntries<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">entry</span> <span class="token operator">=&gt;</span> entry<span class="token punctuation">.</span>time<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意</strong></p><ul><li><code>FP</code>与<code>FCP</code>这两个指标之间的主要区别是：<strong>FP是当浏览器开始绘制内容到屏幕上的时候，只要在视觉上开始发生变化，无论是什么内容触发的视觉变化，在这一刻，这个时间点，叫做FP</strong> 。</li><li>相比之下，<strong>FCP指的是浏览器首次绘制来自DOM的内容</strong> 。例如：文本，图片，SVG，canvas元素等，这个时间点叫<code>FCP</code>。</li><li><code>FP</code>和<code>FCP</code>可能是相同的时间，也可能是先<code>FP</code>后<code>FCP</code>。</li></ul><h3 id="_3-fmp-首次有意义的绘制-first-meaningful-paint" tabindex="-1"><a class="header-anchor" href="#_3-fmp-首次有意义的绘制-first-meaningful-paint"><span>3. FMP 首次有意义的绘制（First Meaningful Paint ）</span></a></h3><blockquote><p>是页面主要内容出现在屏幕上的时间, 这是用户感知加载体验的主要指标。目前尚无标准化的定义, 因为很难以通用的方式去确定各种类型页面的关键内容（<strong>只是记录了加载体验的最开始</strong> 。如果页面显示的是启动图片或者 loading 动画，这个时刻对用用户而言没有意义））</p></blockquote><p><strong>统计逻辑</strong></p><ul><li>目前没有统一逻辑，阿里有个标准为最高可见增量元素，采用深度优先遍历方法，<a href="https://zhuanlan.zhihu.com/p/44933789" target="_blank" rel="noopener noreferrer">详细可见 (opens new window)</a></li><li>其次，可以自定义，比如通 <code>Mutation Observer</code> 观察页面加载的一段时间(如前<code>20s</code>)内页面节点的变化, 即元素新增/移除/隐藏等变化记录下来，这样可以得到页面元素的可见时间点及元素与可视区域的交叉信息等。</li><li>然后，自定义一个计算公式，比如根据元素的类型进行权重取值(<code>div</code> 权重<code>1</code>，<code>img</code> 权重<code>2</code>等), 然后取元素与可视区域的交叉区域面积、可见度、 权重值之间的乘积为元素评分。</li><li>根据上面得到的信息, 以时间点为X轴, 该时间点可见元素的评分总和为Y轴, 取最高点对应的最小时间为页面主要内容出现在屏幕上的时间</li></ul><h3 id="_4-lcp-largest-contentful-paint" tabindex="-1"><a class="header-anchor" href="#_4-lcp-largest-contentful-paint"><span>4.LCP（Largest Contentful Paint ）</span></a></h3><blockquote><p>最大内容绘制，可视区域中最大的内容元素呈现到屏幕上的时间，用以估算页面的主要内容对用户的可见时间。<code>img</code>图片，<code>video</code>元素的封面，通过<code>url</code>加载到的背景，文本节点等，为了提供更好的用户体验，网站应该在<code>2.5s</code>以内或者更短的时间最大内容绘制</p></blockquote><table><thead><tr><th>LCP时间(秒)</th><th>颜色编码</th></tr></thead><tbody><tr><td>0 - 2.5</td><td>绿色(快)</td></tr><tr><td>2.5 - 4</td><td>橙色(中等)</td></tr><tr><td>超过4</td><td>红色(慢)</td></tr></tbody></table><h3 id="_5-fid-first-input-delay" tabindex="-1"><a class="header-anchor" href="#_5-fid-first-input-delay"><span>5. FID （first Input Delay）</span></a></h3><blockquote><p><code>首次输入延迟</code>，是测量用户首次与您的站点交互时的时间（即当他们单击链接/点击按钮/使用自定义的JavaScript驱动控件时）到浏览器实际能够回应这种互动的时间</p></blockquote><p>输入延迟是因为浏览器的主线程正忙于做其他事情，所以不能响应用户，发生这种情况的一个常见原因是浏览器正忙于解析和执行应用程序加载的大量计算的<code>JavaScript</code></p><table><thead><tr><th>FID时间(毫秒)</th><th>颜色编码</th></tr></thead><tbody><tr><td>0 - 100</td><td>绿色(快)</td></tr><tr><td>100 - 300</td><td>橙色(中等)</td></tr><tr><td>超过300</td><td>红色(慢)</td></tr></tbody></table><p><img src="/images/s_poetries_work_uploads_2022_10_371585195be23969.png" alt=""></p><p><strong>统计逻辑</strong></p><ul><li>方式一，通过<code>performanceObserver</code>(目前支持性为<code>88.78%</code>)观察类型为<code>first-input</code>的entry，获得其<code>startTime/duration</code>等数即可</li><li>方式二，初始化时为特定事件类型(<code>click/touch/keydown</code>)绑定通用统计逻辑事件,开始调用时从<code>event.timeStamp</code>取开始处理的时间(这个时间就是首次输入延迟时间)，在事件处理中注册<code>requestIdleCallback</code>事件回调<code>onIdleCallback</code>，当<code>onIdleCallback</code>被执行时，当前时间减开始的<code>event.timeStamp</code>即为<code>duration</code>时间</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token comment">// 方式一</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">getFIDTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> timings <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&#39;first-input&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> timings <span class="token operator">?</span> timings <span class="token operator">:</span> <span class="token keyword">null</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// 方式二，以下代码仅代表思路</span></span>
<span class="line">    <span class="token punctuation">[</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;touch&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;keydown&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">eventType</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> eventHandle<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">eventHandle</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> eventTime <span class="token operator">=</span> e<span class="token punctuation">.</span>timeStamp<span class="token punctuation">;</span></span>
<span class="line">        window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span><span class="token function">onIdleCallback</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> eventTime<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">onIdleCallback</span><span class="token punctuation">(</span><span class="token parameter">eventTime<span class="token punctuation">,</span> e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> now <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">const</span> duration <span class="token operator">=</span> now <span class="token operator">-</span> eventTime<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">duration</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">timestamp</span><span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>eventTime<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">        <span class="token punctuation">[</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;touch&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;keydown&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">eventType</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> eventHandle<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>[Event 对象的更多理解 (opens new window)](https://developer.mozilla.org/zh- CN/docs/Web/API/Event)</p><h3 id="_6-tti-time-to-internative-可交互时间" tabindex="-1"><a class="header-anchor" href="#_6-tti-time-to-internative-可交互时间"><span>6.TTI （Time To Internative）可交互时间</span></a></h3><blockquote><p><code>可交互时间</code>，指的是应用在视觉上都已渲染出了，完全可以响应用户的输入了。是衡量应用加载所需时间并能够快速响应用户交互的指标</p></blockquote><table><thead><tr><th>TTI时间(秒)</th><th>颜色编码</th></tr></thead><tbody><tr><td>0 - 3.8</td><td>绿色(快)</td></tr><tr><td>3.9 - 7.3</td><td>橙色(中等)</td></tr><tr><td>超过7.3</td><td>红色(慢)</td></tr></tbody></table><p><strong>统计逻辑</strong></p><p>与 <code>FMP</code> 相同，很难规范化适用于所有网页的 <code>TTI</code> 指标定义。</p><p><strong>统计方式一</strong> ：谷歌实验室写的npm包，<code>tti-polyfill</code></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token keyword">import</span> ttiPolyfill <span class="token keyword">from</span> <span class="token string">&#39;tti-polyfill&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    ttiPolyfill<span class="token punctuation">.</span><span class="token function">getFirstConsistentlyInteractive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">tti</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">ga</span><span class="token punctuation">(</span><span class="token string">&#39;send&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;event&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">eventCategory</span><span class="token operator">:</span><span class="token string">&#39;Performance Metrics&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">eventAction</span><span class="token operator">:</span><span class="token string">&#39;TTI&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">eventValue</span><span class="token operator">:</span> tti<span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">nonInteraction</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>统计方式二</strong> ：在页面加载的一定时间内(如前<code>50s</code>内)，以(<code>domContentLoadedEventStart- navigationStart)+5</code>为起始点，循环寻找，找到一个<code>5s</code>的窗口，其中网络请求不超过<code>2</code>个且没有长任务（<code>&gt;50ms</code>），再找到该<code>5</code>秒窗口之前的最后一个长任务，该长任务结束的时间点就是可稳定交互时间。其中长任务可自定义时间或通<code>performance.getEntriesByType(&#39;longtask&#39;)</code>获取</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token comment">// 以下代码仅代表思路</span></span>
<span class="line">    <span class="token keyword">const</span> basicTime <span class="token operator">=</span> <span class="token number">5000</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">getTTITime</span><span class="token punctuation">(</span><span class="token parameter">startTime<span class="token punctuation">,</span>longTaskEntries<span class="token punctuation">,</span> resourceEntries<span class="token punctuation">,</span>domContentLoadedTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">      <span class="token keyword">let</span> busyNetworkInWindow <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">let</span> tti <span class="token operator">=</span> startTime<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">      <span class="token keyword">while</span> <span class="token punctuation">(</span>startTime <span class="token operator">+</span> basicTime <span class="token operator">&lt;=</span> <span class="token number">50000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//从前50s 中去找</span></span>
<span class="line">        tti <span class="token operator">=</span> startTime<span class="token punctuation">;</span></span>
<span class="line">        longTasksInWindow <span class="token operator">=</span> longTaskEntries<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">task</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">return</span> task<span class="token punctuation">.</span>startTime <span class="token operator">&lt;</span> startTime <span class="token operator">+</span> basicTime <span class="token operator">&amp;&amp;</span> task<span class="token punctuation">.</span>startTime <span class="token operator">+</span> task<span class="token punctuation">.</span>duration <span class="token operator">&gt;</span> startTime<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>longTasksInWindow<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">const</span> lastLongTask <span class="token operator">=</span> longTasksInWindow<span class="token punctuation">[</span>longTasksInWindow<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">          startTime <span class="token operator">=</span> lastLongTask<span class="token punctuation">.</span>startTime <span class="token operator">+</span> lastLongTask<span class="token punctuation">.</span>duration<span class="token punctuation">;</span></span>
<span class="line">          <span class="token keyword">continue</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        busyNetworkInWindow <span class="token operator">=</span> resourceEntries<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">request</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>startTime <span class="token operator">&gt;=</span> startTime <span class="token operator">+</span> basicTime <span class="token operator">||</span> request<span class="token punctuation">.</span>startTime <span class="token operator">+</span> request<span class="token punctuation">.</span>duration <span class="token operator">&lt;=</span> startTime<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>busyNetworkInWindow<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">const</span> firstRequest <span class="token operator">=</span> busyNetworkInWindow<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">          startTime <span class="token operator">=</span> firstRequest<span class="token punctuation">.</span>startTime <span class="token operator">+</span> firstRequest<span class="token punctuation">.</span>duration<span class="token punctuation">;</span></span>
<span class="line">          <span class="token keyword">continue</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>tti<span class="token punctuation">,</span> domContentLoadedTime<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>tti<span class="token punctuation">,</span> domContentLoadedTime<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-tbt-total-blocking-time" tabindex="-1"><a class="header-anchor" href="#_7-tbt-total-blocking-time"><span>7. TBT（total blocking time ）</span></a></h3><p>总阻塞时间，度量了<code>FCP</code>和<code>TTI</code>之间的总时间，在该时间范围内，主线程被阻塞足够长的时间以防止输入响应。只要存在长任务，该主线程就会被视为阻塞，该任务在主线程上运行超过<code>50</code>毫秒。</p><p>线程阻塞是因为浏览器无法中断正在进行的任务，因此如果用户确实在较长的任务中间与页面进行交互，则浏览器必须等待任务完成才能响应</p><table><thead><tr><th>TBT时间(毫秒)</th><th>颜色编码</th></tr></thead><tbody><tr><td>0 - 300</td><td>绿色(快)</td></tr><tr><td>300 - 600</td><td>橙色(中等)</td></tr><tr><td>超过600</td><td>红色(慢)</td></tr></tbody></table><h3 id="_8-cls-cumulative-layout-shift" tabindex="-1"><a class="header-anchor" href="#_8-cls-cumulative-layout-shift"><span>8. CLS(Cumulative Layout Shift)</span></a></h3><blockquote><p>累计布局位移，<code>CLS</code>会测量在页面整个生命周期中发生的每个意外的布局移位的所有单独布局移位分数的总和，他是一种保证页面的视觉稳定性从而提升用户体验的指标方案。</p></blockquote><p>用人话来说就是当点击页面中的某个元素的时候，突然布局变了，手指点到了其它位置。比如想点击页面的链接，突然出现了一个<code>banner</code>。这种情况可能是因为尺寸未知的图像或者视频。</p><table><thead><tr><th>CLS时间(毫秒)</th><th>颜色编码</th></tr></thead><tbody><tr><td>0 - 0.1</td><td>绿色(快)</td></tr><tr><td>0.1 - 0.25</td><td>橙色(中等)</td></tr><tr><td>超过0.25</td><td>红色(慢)</td></tr></tbody></table><p><img src="/images/s_poetries_work_uploads_2022_10_bb0a7833216a6f87.png" alt=""></p><p><strong>9. FCI（First CPU Idle）首次CPU空闲时间</strong></p><blockquote><p>代表着一个网页已经满足了最小程度的与用户发生交互行为的时刻。当我们打开一个网页，我们并不需要等到一个网页完全加载好了，每一个元素都已经完成了渲染，然后再去与网页进行交互行为。网页满足了我们基本的交互的时间点是衡量网页性能的一个重要指标</p></blockquote><p><strong>统计逻辑</strong></p><blockquote><p><code>FCI</code>为在<code>FMP</code>之后，首次在一定窗口时间内没有长任务发生的那一时刻，并且如果这个时间点早于<code>DOMContentLoaded</code>时间，那么<code>FCI</code>的时间为<code>DOMContentLoaded</code>时间，窗口时间的计算函数可以根据<code>Lighthouse</code>提供的计算公式 <code>N = f(t) = 4 * e^(-0.045 * t) + 1</code> 进行自定义设计</p></blockquote><h3 id="_10-fps-frames-per-second-每秒帧率" tabindex="-1"><a class="header-anchor" href="#_10-fps-frames-per-second-每秒帧率"><span>10. FPS（Frames Per Second）每秒帧率</span></a></h3><blockquote><p>表示的是每秒钟画面更新次数，当今大多数设备的屏幕刷新率都是<code>60次/秒</code></p></blockquote><p>参考标准：</p><ul><li>帧率能够达到 <code>50 ～ 60 FPS</code> 的动画将会相当流畅，让人倍感舒适；</li><li>帧率在 <code>30 ～ 50 FPS</code> 之间的动画，因各人敏感程度不同，舒适度因人而异；</li><li>帧率在 <code>30 FPS</code> 以下的动画，让人感觉到明显的卡顿和不适感；</li><li>帧率波动很大的动画，亦会使人感觉到卡顿</li></ul><p><strong>统计逻辑</strong></p><p>利用<code>requestAnimationFrame</code>,循环调用，当<code>now</code>大于<code>lastTime+1S</code>时，计算<code>FPS</code>。若小于某个阀值则可以认为当前帧率较差，若连续小于多个阀值，则停止统计，当前页面处于卡顿状态，进入卡顿处理逻辑</p><p><a href="https://www.cnblogs.com/coco1s/p/8029582.html" target="_blank" rel="noopener noreferrer">更多具体参考 (opens new window)</a></p><p><strong>使用 requestAnimationFrame 计算 FPS</strong></p><p>正常而言 <code>requestAnimationFrame</code> 这个方法在一秒内会执行 <code>60</code> 次，也就是不掉帧的情况下。假设动画在时间 A 开始执行，在时间 <code>B</code> 结束，耗时 <code>x ms</code>。而中间 <code>requestAnimationFrame</code> 一共执行了 <code>n</code> 次，则此段动画的帧率大致为：<code>n / (B - A)</code>。</p><p>核心代码如下，能近似计算每秒页面帧率，以及我们额外记录一个 <code>allFrameCount</code>，用于记录 <code>rAF</code> 的执行次数，用于计算每次动画的帧率</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token keyword">var</span> <span class="token function-variable function">rAF</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">            window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span></span>
<span class="line">            window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span></span>
<span class="line">            <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      </span>
<span class="line">    <span class="token keyword">var</span> frame <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> allFrameCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> lastTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> lastFameTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      </span>
<span class="line">    <span class="token keyword">var</span> <span class="token function-variable function">loop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">var</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> lastFameTime<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">var</span> fps <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">/</span> fs<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      </span>
<span class="line">        lastFameTime <span class="token operator">=</span> now<span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 不置 0，在动画的开头及结尾记录此值的差值算出 FPS</span></span>
<span class="line">        allFrameCount<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">        frame<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">      </span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">&gt;</span> <span class="token number">1000</span> <span class="token operator">+</span> lastTime<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">var</span> fps <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>frame <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> lastTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 1S内 FPS：</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> fps<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            frame <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">            lastTime <span class="token operator">=</span> now<span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">      </span>
<span class="line">        <span class="token function">rAF</span><span class="token punctuation">(</span>loop<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">     </span>
<span class="line">    <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>找一个有动画不断运行的页面进行测试，可以看到代码运行如下：</p><blockquote><p>使用 Chrome 同时调出页面的 FPS meter（Ctrl+shift+p输入fps调出fps监控面板），对比两边的实时 FPS 值，基本吻合</p></blockquote><p>演示Demo https://codepen.io/poetries/pen/gLoQzo</p><p><img src="/images/s_poetries_work_uploads_2022_10_b5ee7ee6fdc4c8c4.png" alt=""></p><h3 id="_11-长任务-long-task" tabindex="-1"><a class="header-anchor" href="#_11-长任务-long-task"><span>11. 长任务（Long Task）</span></a></h3><blockquote><p>当一个任务执行时间超过 50ms 时消耗到的任务 （50ms 阈值是从 RAIL 模型总结出来的结论，这个是 google 研究用户感知得出的结论，类似用户的感知/耐心的阈值，超过这个阈值的任务，用户会感知到页面的卡顿）</p></blockquote><h3 id="_12-dcl-domcontentloaded" tabindex="-1"><a class="header-anchor" href="#_12-dcl-domcontentloaded"><span>12. DCL （DOMContentLoaded）</span></a></h3><blockquote><p>当 HTML 文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，无需等待样式，图像和子框架的完成加载。</p></blockquote><h3 id="_13-l-onloaded" tabindex="-1"><a class="header-anchor" href="#_13-l-onloaded"><span>13. L（onLoaded）</span></a></h3><blockquote><p>当依赖的资源，全部加载完毕之后才会触发</p></blockquote><p>上面介绍了 <code>13</code> 种性能指标 大家没必要搞懂每一个指标的定义 我们来看看我们需要关注的<strong>核心的几个性能指标</strong></p><h2 id="google-web-vitals-使用者体验量化" tabindex="-1"><a class="header-anchor" href="#google-web-vitals-使用者体验量化"><span>Google Web Vitals - 使用者体验量化</span></a></h2><blockquote><p>谷歌认为之前的标准太复杂，指标太多了。Google 于 2020 年 5 年 5 日提出了新的使用者体验量化方式，推出 <code>Web Vitals</code> 是简化这个学习的曲线，大家只要观注 <code>Web Vitals</code> 指标表现即可。加载性能<code>LCP</code>，交互性<code>FID</code>，视觉稳定性<code>CLS</code>。只需要做好这三个，网站的性能基本上就可以了。</p></blockquote><p><strong>web-vitals 集成了 5 个指标的 api,核心指标有 3 个；</strong></p><ul><li><strong>LCP</strong> 显示最大内容元素所需时间 (衡量网站初次载入速度)</li><li><strong>FID</strong> 首次输入延迟时间 (衡量网站互动顺畅程度)</li><li><strong>CLS</strong> 累计版面配置移转 (衡量网页元件视觉稳定性)</li></ul><p><img src="/images/s_poetries_work_uploads_2022_10_ac3d40c180143d67.png" alt=""></p><p>测量<code>Web Vitals</code>的工具有很多，比如<code>Lighthouse</code>，<code>web-vitals</code>，浏览器插件<code>web vitals</code></p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">        <span class="token keyword">import</span> <span class="token punctuation">{</span>getCLS<span class="token punctuation">,</span> getFID<span class="token punctuation">,</span>getFCP<span class="token punctuation">,</span>getTTFB<span class="token punctuation">,</span> getLCP<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;https://unpkg.com/web-vitals?module&#39;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getCLS</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getFID</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getLCP</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getFCP</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token function">getTTFB</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>到此为止 我们知道了<code>LCP</code> <code>FID</code> <code>CLS</code> 这三大指标是比较核心的 但是如果我们想知道更多的<strong>性能指标测定方式</strong> 我们该怎么做呢 我们接着看</p><p><img src="/images/s_poetries_work_uploads_2022_10_dcbb1760bd319f3b.png" alt=""></p><h2 id="上报策略" tabindex="-1"><a class="header-anchor" href="#上报策略"><span>上报策略</span></a></h2><h3 id="pv-uv" tabindex="-1"><a class="header-anchor" href="#pv-uv"><span>pv/uv</span></a></h3><p>监听各种页面切换的情况；SPA页面，可以监听<code>hashChange</code></p><h3 id="性能数据-设备信息-网络状况" tabindex="-1"><a class="header-anchor" href="#性能数据-设备信息-网络状况"><span>性能数据/设备信息/网络状况</span></a></h3><ul><li>在页面离开前上报，<code>beforeUnload</code>/<code>visibilitychange</code>/<code>pagehide</code>…+ <code>sendBeancon/Ajax</code></li><li><code>img</code> 标签+切片+压缩</li></ul><p><img src="/images/s_poetries_work_uploads_2022_10_12a9b269a9afb096.png" alt=""></p><h2 id="performance-api" tabindex="-1"><a class="header-anchor" href="#performance-api"><span>Performance API</span></a></h2><p><code>Performance</code> 是一个浏览器全局对象，提供了一组 API 用于编程式地获取程序在某些节点的性能数据。它包含一组高精度时间定义，以及配套的相关方法。我们可以直接在浏览器控制台打印<code>window.performance</code> 结果如下</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token comment">// 获取 performance 数据</span></span>
<span class="line">    <span class="token keyword">var</span> performance <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// memory 是非标准属性，只在 Chrome 有</span></span>
<span class="line">        <span class="token comment">// 我有多少内存</span></span>
<span class="line">        <span class="token literal-property property">memory</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">usedJSHeapSize</span><span class="token operator">:</span>  <span class="token number">16100000</span><span class="token punctuation">,</span> <span class="token comment">// JS 对象（包括V8引擎内部对象）占用的内存，一定小于 totalJSHeapSize</span></span>
<span class="line">            <span class="token literal-property property">totalJSHeapSize</span><span class="token operator">:</span> <span class="token number">35100000</span><span class="token punctuation">,</span> <span class="token comment">// 可使用的内存</span></span>
<span class="line">            <span class="token literal-property property">jsHeapSizeLimit</span><span class="token operator">:</span> <span class="token number">793000000</span> <span class="token comment">// 内存大小限制</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">        <span class="token comment">// 我从哪里来？</span></span>
<span class="line">        <span class="token literal-property property">navigation</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">redirectCount</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 如果有重定向的话，页面通过几次重定向跳转而来</span></span>
<span class="line">            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token number">0</span>           <span class="token comment">// 0   即 TYPE_NAVIGATENEXT 正常进入的页面（非刷新、非重定向等）</span></span>
<span class="line">                              <span class="token comment">// 1   即 TYPE_RELOAD       通过 window.location.reload() 刷新的页面</span></span>
<span class="line">                              <span class="token comment">// 2   即 TYPE_BACK_FORWARD 通过浏览器的前进后退按钮进入的页面（历史记录）</span></span>
<span class="line">                              <span class="token comment">// 255 即 TYPE_UNDEFINED    非以上方式进入的页面</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">//  核心时间相关</span></span>
<span class="line">        <span class="token literal-property property">timing</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// 在同一个浏览器上下文中，前一个网页（与当前页面不一定同域）unload 的时间戳，如果无前一个网页 unload ，则与 fetchStart 值相等</span></span>
<span class="line">            <span class="token literal-property property">navigationStart</span><span class="token operator">:</span> <span class="token number">1441112691935</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// 前一个网页（与当前页面同域）unload 的时间戳，如果无前一个网页 unload 或者前一个网页与当前页面不同域，则值为 0</span></span>
<span class="line">            <span class="token literal-property property">unloadEventStart</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// 和 unloadEventStart 相对应，返回前一个网页 unload 事件绑定的回调函数执行完毕的时间戳</span></span>
<span class="line">            <span class="token literal-property property">unloadEventEnd</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// 第一个 HTTP 重定向发生时的时间。有跳转且是同域名内的重定向才算，否则值为 0</span></span>
<span class="line">            <span class="token literal-property property">redirectStart</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// 最后一个 HTTP 重定向完成时的时间。有跳转且是同域名内部的重定向才算，否则值为 0</span></span>
<span class="line">            <span class="token literal-property property">redirectEnd</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// 浏览器准备好使用 HTTP 请求抓取文档的时间，这发生在检查本地缓存之前</span></span>
<span class="line">            <span class="token literal-property property">fetchStart</span><span class="token operator">:</span> <span class="token number">1441112692155</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// DNS 域名查询开始的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等</span></span>
<span class="line">            <span class="token literal-property property">domainLookupStart</span><span class="token operator">:</span> <span class="token number">1441112692155</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// DNS 域名查询完成的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等</span></span>
<span class="line">            <span class="token literal-property property">domainLookupEnd</span><span class="token operator">:</span> <span class="token number">1441112692155</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// HTTP（TCP） 开始建立连接的时间，如果是持久连接，则与 fetchStart 值相等</span></span>
<span class="line">            <span class="token comment">// 注意如果在传输层发生了错误且重新建立连接，则这里显示的是新建立的连接开始的时间</span></span>
<span class="line">            <span class="token literal-property property">connectStart</span><span class="token operator">:</span> <span class="token number">1441112692155</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// HTTP（TCP） 完成建立连接的时间（完成握手），如果是持久连接，则与 fetchStart 值相等</span></span>
<span class="line">            <span class="token comment">// 注意如果在传输层发生了错误且重新建立连接，则这里显示的是新建立的连接完成的时间</span></span>
<span class="line">            <span class="token comment">// 注意这里握手结束，包括安全连接建立完成、SOCKS 授权通过</span></span>
<span class="line">            <span class="token literal-property property">connectEnd</span><span class="token operator">:</span> <span class="token number">1441112692155</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// HTTPS 连接开始的时间，如果不是安全连接，则值为 0</span></span>
<span class="line">            <span class="token literal-property property">secureConnectionStart</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// HTTP 请求读取真实文档开始的时间（完成建立连接），包括从本地读取缓存</span></span>
<span class="line">            <span class="token comment">// 连接错误重连时，这里显示的也是新建立连接的时间</span></span>
<span class="line">            <span class="token literal-property property">requestStart</span><span class="token operator">:</span> <span class="token number">1441112692158</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// HTTP 开始接收响应的时间（获取到第一个字节），包括从本地读取缓存</span></span>
<span class="line">            <span class="token literal-property property">responseStart</span><span class="token operator">:</span> <span class="token number">1441112692686</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// HTTP 响应全部接收完成的时间（获取到最后一个字节），包括从本地读取缓存</span></span>
<span class="line">            <span class="token literal-property property">responseEnd</span><span class="token operator">:</span> <span class="token number">1441112692687</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// 开始解析渲染 DOM 树的时间，此时 Document.readyState 变为 loading，并将抛出 readystatechange 相关事件</span></span>
<span class="line">            <span class="token literal-property property">domLoading</span><span class="token operator">:</span> <span class="token number">1441112692690</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// 完成解析 DOM 树的时间，Document.readyState 变为 interactive，并将抛出 readystatechange 相关事件</span></span>
<span class="line">            <span class="token comment">// 注意只是 DOM 树解析完成，这时候并没有开始加载网页内的资源</span></span>
<span class="line">            <span class="token literal-property property">domInteractive</span><span class="token operator">:</span> <span class="token number">1441112693093</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// DOM 解析完成后，网页内资源加载开始的时间</span></span>
<span class="line">            <span class="token comment">// 在 DOMContentLoaded 事件抛出前发生</span></span>
<span class="line">            <span class="token literal-property property">domContentLoadedEventStart</span><span class="token operator">:</span> <span class="token number">1441112693093</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// DOM 解析完成后，网页内资源加载完成的时间（如 JS 脚本加载执行完毕）</span></span>
<span class="line">            <span class="token literal-property property">domContentLoadedEventEnd</span><span class="token operator">:</span> <span class="token number">1441112693101</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// DOM 树解析完成，且资源也准备就绪的时间，Document.readyState 变为 complete，并将抛出 readystatechange 相关事件</span></span>
<span class="line">            <span class="token literal-property property">domComplete</span><span class="token operator">:</span> <span class="token number">1441112693214</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// load 事件发送给文档，也即 load 回调函数开始执行的时间</span></span>
<span class="line">            <span class="token comment">// 注意如果没有绑定 load 事件，值为 0</span></span>
<span class="line">            <span class="token literal-property property">loadEventStart</span><span class="token operator">:</span> <span class="token number">1441112693214</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// load 事件的回调函数执行完毕的时间</span></span>
<span class="line">            <span class="token literal-property property">loadEventEnd</span><span class="token operator">:</span> <span class="token number">1441112693215</span></span>
<span class="line">    </span>
<span class="line">            <span class="token comment">// 按照字母排序</span></span>
<span class="line">            <span class="token comment">// connectEnd: 1441112692155,</span></span>
<span class="line">            <span class="token comment">// connectStart: 1441112692155,</span></span>
<span class="line">            <span class="token comment">// domComplete: 1441112693214,</span></span>
<span class="line">            <span class="token comment">// domContentLoadedEventEnd: 1441112693101,</span></span>
<span class="line">            <span class="token comment">// domContentLoadedEventStart: 1441112693093,</span></span>
<span class="line">            <span class="token comment">// domInteractive: 1441112693093,</span></span>
<span class="line">            <span class="token comment">// domLoading: 1441112692690,</span></span>
<span class="line">            <span class="token comment">// domainLookupEnd: 1441112692155,</span></span>
<span class="line">            <span class="token comment">// domainLookupStart: 1441112692155,</span></span>
<span class="line">            <span class="token comment">// fetchStart: 1441112692155,</span></span>
<span class="line">            <span class="token comment">// loadEventEnd: 1441112693215,</span></span>
<span class="line">            <span class="token comment">// loadEventStart: 1441112693214,</span></span>
<span class="line">            <span class="token comment">// navigationStart: 1441112691935,</span></span>
<span class="line">            <span class="token comment">// redirectEnd: 0,</span></span>
<span class="line">            <span class="token comment">// redirectStart: 0,</span></span>
<span class="line">            <span class="token comment">// requestStart: 1441112692158,</span></span>
<span class="line">            <span class="token comment">// responseEnd: 1441112692687,</span></span>
<span class="line">            <span class="token comment">// responseStart: 1441112692686,</span></span>
<span class="line">            <span class="token comment">// secureConnectionStart: 0,</span></span>
<span class="line">            <span class="token comment">// unloadEventEnd: 0,</span></span>
<span class="line">            <span class="token comment">// unloadEventStart: 0</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>先来一张图解释下页面加载的几个<strong>关键时刻</strong></p><p><img src="/images/s_poetries_work_uploads_2022_10_9c205a46e33f41b8.png" alt=""></p><h3 id="使用-performance-timing-信息简单计算出网页性能数据" tabindex="-1"><a class="header-anchor" href="#使用-performance-timing-信息简单计算出网页性能数据"><span>使用 <code>performance.timing</code> 信息简单计算出<strong>网页性能数据</strong></span></a></h3><ul><li><code>FP</code>：<code>responseStart - navigationStart</code></li><li>重定向耗时：<code>redirectEnd - redirectStart</code></li><li><code>DNS</code> 查询耗时：<code>domainLookupEnd - domainLookupStart</code></li><li><code>TCP</code> 链接耗时：<code>connectEnd - connectStart</code></li><li><code>HTTP</code> 请求耗时：<code>responseEnd - responseStart</code></li><li>解析 <code>dom</code> 树耗时：<code>domComplete - domInteractive</code></li><li><code>DOM ready</code> 时间：<code>domContentLoadedEventEnd - navigationStart</code></li><li><code>onload</code>：<code>loadEventEnd - navigationStart</code></li></ul><h3 id="使用performance-getentries-获取所有资源请求的时间数据" tabindex="-1"><a class="header-anchor" href="#使用performance-getentries-获取所有资源请求的时间数据"><span>使用<code>performance.getEntries()</code>获取所有资源请求的时间数据</span></a></h3><p>获取所有资源请求的时间数据,这个函数返回一个按 <code>startTime</code> 排序的对象数组</p><p><img src="/images/s_poetries_work_uploads_2022_10_3d382c1bde031e54.png" alt=""></p><h3 id="使用performance-getentriesbyname-name-获取特定名称的时间数据" tabindex="-1"><a class="header-anchor" href="#使用performance-getentriesbyname-name-获取特定名称的时间数据"><span>使用<code>performance.getEntriesByName(name)</code>获取特定名称的时间数据</span></a></h3><p>我们可以通过 <code>getEntriesByName(name)</code>提供的 api 去获取 FCP 数据</p><p><code>FCP</code> = <code>performance.getEntriesByName(&quot;first-contentful-paint&quot;)[0].startTime - navigationStart</code></p><h3 id="使用performance-now-精确计算程序执行时间" tabindex="-1"><a class="header-anchor" href="#使用performance-now-精确计算程序执行时间"><span>使用<code>performance.now()</code>精确计算程序执行时间</span></a></h3><p><code>performance.now</code>方法返回当前网页自从<code>performance.timing.navigationStart</code>到当前时间之间的<strong>微秒数</strong> （毫秒的千分之一）。也就是说，它的精度可以达到 100 万分之一秒。</p><p>那么我们可以通过两次调用 最后计算出 js 某种操作的精确耗时</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token keyword">const</span> start <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token function">doTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里是耗时操作</span></span>
<span class="line">    <span class="token keyword">const</span> end <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;耗时：&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;微秒。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用performance-mark以及performance-measure手动测量性能" tabindex="-1"><a class="header-anchor" href="#使用performance-mark以及performance-measure手动测量性能"><span>使用<code>performance.mark</code>以及<code>performance.measure</code>手动测量性能</span></a></h3><blockquote><p>https://developer.mozilla.org/en-US/docs/Web/API/Performance/mark</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token comment">// Create a bunch of marks.</span></span>
<span class="line">    performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;squirrel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;squirrel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;monkey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;monkey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;dog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&quot;dog&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Get all of the PerformanceMark entries.</span></span>
<span class="line">    <span class="token keyword">const</span> allEntries <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&quot;mark&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>allEntries<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 6</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Get all of the &quot;monkey&quot; PerformanceMark entries.</span></span>
<span class="line">    <span class="token keyword">const</span> monkeyEntries <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">getEntriesByName</span><span class="token punctuation">(</span><span class="token string">&quot;monkey&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>monkeyEntries<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 2</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// Clear out all of the marks.</span></span>
<span class="line">    performance<span class="token punctuation">.</span><span class="token function">clearMarks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="性能测试" tabindex="-1"><a class="header-anchor" href="#性能测试"><span>性能测试</span></a></h2><h3 id="lighthouse" tabindex="-1"><a class="header-anchor" href="#lighthouse"><span>lighthouse</span></a></h3><p>先来介绍 <strong>lighthouse 工具</strong> ，目前官方提供了 google devtools、google 插件、npm cli 方式应用。</p><p><img src="/images/s_poetries_work_uploads_2022_10_99b44fd02f1a1caa.png" alt=""></p><p><img src="/images/s_poetries_work_uploads_2022_10_1f679dee4437827e.png" alt=""></p><p>我们发现 lighthouse 和 performance <strong>区别还挺大</strong> 滴，为啥呢？</p><p><img src="/images/s_poetries_work_uploads_2022_10_f3ebbda38c9239a2.png" alt=""></p><p>原来 lighthouse 默认进行了<strong>节流处理</strong> 。我们可以不勾选节流同时也直接点击 view trace 生成对应 performance 面板的数据。</p><p><img src="/images/s_poetries_work_uploads_2022_10_3f218a80cb528b0a.png" alt=""></p><p>lighthouse 主要针对 <strong>5 个方面</strong> 做了分析。</p><h4 id="performance-性能" tabindex="-1"><a class="header-anchor" href="#performance-性能"><span>Performance 性能</span></a></h4><p>列出了 <code>FCP</code>、<code>SP</code>、<code>LCP</code>、<code>TTI</code>、<code>TBI</code>、<code>CLS</code> 六个指标</p><p><img src="/images/s_poetries_work_uploads_2022_10_5b807139fc3f7175.png" alt=""></p><p>同时也提供可<strong>优化</strong> 方案</p><p><img src="/images/s_poetries_work_uploads_2022_10_b9942f777f5efe2f.png" alt=""></p><h4 id="accessibility-可访问性" tabindex="-1"><a class="header-anchor" href="#accessibility-可访问性"><span>Accessibility 可访问性</span></a></h4><p>可访问性：指无障碍设计，也称为网站可达性。是指所创建的网站对所有用户都可用/可访问，不管用户的生理/身体能力如何、不管用户是以何种方式访问网站。</p><p><img src="/images/s_poetries_work_uploads_2022_10_beca96ece3131c1c.png" alt=""></p><h4 id="best-practice-最佳实践" tabindex="-1"><a class="header-anchor" href="#best-practice-最佳实践"><span>Best Practice 最佳实践</span></a></h4><p>实际应用中，网站的安全问题</p><p><img src="/images/s_poetries_work_uploads_2022_10_d20c9a737bff052f.png" alt=""></p><h4 id="seo-搜索引擎优化" tabindex="-1"><a class="header-anchor" href="#seo-搜索引擎优化"><span>SEO 搜索引擎优化</span></a></h4><p>搜索引擎优化，是一种利用搜索引擎的规则提高网站在有关搜索引擎内的自然排名</p><p><img src="/images/s_poetries_work_uploads_2022_10_ec96cb38daa7275e.png" alt=""></p><h4 id="progressive-web-app-轻应用-离线应用" tabindex="-1"><a class="header-anchor" href="#progressive-web-app-轻应用-离线应用"><span>Progressive Web App 轻应用-离线应用</span></a></h4><p>PWA： 运用现代的 Web API 以及传统的渐进式增强策略来创建跨平台 Web 应用程序。这些应用无处不在、功能丰富，使其具有与原生应用相同的用户体验优势;</p><p><img src="/images/s_poetries_work_uploads_2022_10_7e786b5f7737a786.png" alt=""></p><p>没有浏览器环境还可以使用 lighthouse 来测试性能吗 答案是 当然可以</p><p>我们再来用 <strong>npm cli</strong> 去实现 lighthouse 吧</p><h3 id="node-cli-lighthouse" tabindex="-1"><a class="header-anchor" href="#node-cli-lighthouse"><span>node cli lighthouse</span></a></h3><p>项目安装 lighthouse</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    npm i <span class="token operator">-</span>g lighthouse</span>
<span class="line">    lighthouse https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>看看 cli 中 lighthouse 支持哪些命令</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    lighthouse <span class="token operator">--</span>help</span>
<span class="line">    <span class="token comment">// 命令太多，介绍常用的几个</span></span>
<span class="line">    <span class="token operator">--</span>output             <span class="token comment">// 文档报告输出支持html、json、csv，默认html；</span></span>
<span class="line">    <span class="token operator">--</span>view               <span class="token comment">// 数据分析结束后以html展示</span></span>
<span class="line">    <span class="token operator">--</span>only<span class="token operator">-</span>categories    <span class="token comment">// 分析类别包括“accessibility, best-practices, performance, pwa, seo”</span></span>
<span class="line">    <span class="token operator">--</span>throttling<span class="token operator">-</span>method  <span class="token comment">// 限流方式：provide当前设备环境，devtools开发模式，simulate模拟手机</span></span>
<span class="line">    <span class="token operator">--</span>form<span class="token operator">-</span>factor        <span class="token comment">// 支持设备，mobile，desktop</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webpagetest" tabindex="-1"><a class="header-anchor" href="#webpagetest"><span>WebPageTest</span></a></h3><p>在线<code>web</code>性能测试工具(<code>https://www.webpagetest.org</code>), 提供多地点测试。他只能测试已经发布了的网站。输入需要测试的网页地址，点击<code>start test</code>按钮就开始测试了，可以选择测试地理位置，测试的浏览器等。</p><p><img src="/images/s_poetries_work_uploads_2022_10_5fb7a8345786d90f.png" alt=""></p><h2 id="chrome-devtools" tabindex="-1"><a class="header-anchor" href="#chrome-devtools"><span>Chrome DevTools</span></a></h2><h3 id="浏览器的任务管理器" tabindex="-1"><a class="header-anchor" href="#浏览器的任务管理器"><span>浏览器的任务管理器</span></a></h3><p>可以查看当前<code>Chrome</code>浏览器中，所有进程关于<code>GPU</code>，网络和内存空间的使用情况，这些进程包括当前打开的各个标签页，安装的各种扩展插件，以及<code>GPU</code>，网络，渲染等浏览器的默认进程，通过监控这些数据，可以定位可能存在内存泄露或网络资源加载异常的问题进程。</p><p>更多工具 <code>-&gt;</code> 任务管理器</p><p><img src="/images/s_poetries_work_uploads_2022_10_5a1684a3e45d1f0e.png" alt=""></p><p>可以看到所有进行的进程，可以看到内存占用网络消耗。</p><h3 id="google-performance-面板" tabindex="-1"><a class="header-anchor" href="#google-performance-面板"><span>Google performance 面板</span></a></h3><p><img src="/images/s_poetries_work_uploads_2022_10_bf3d19cf85587472.png" alt=""></p><p>从上到下分别为 4 个区域</p><p>1：工具条，包含录制，刷新页面分析，清除结果等一系列操作</p><p>2：总览图，高度概括随时间线的变动，包括 <code>FPS</code>，<code>CPU</code>，<code>NET</code></p><p>3：火焰图，从不同的角度分析框选区域 。例如：<code>Network</code>，<code>Frames</code>,<code>Interactions</code>,<code>Main</code> 等</p><p>4：总体报告：精确到毫秒级的分析，以及按调用层级，事件分类的整理</p><h4 id="工具条区域" tabindex="-1"><a class="header-anchor" href="#工具条区域"><span>工具条区域</span></a></h4><p><img src="/images/s_poetries_work_uploads_2022_10_32aaa3c8a641d859.png" alt=""></p><p>上面红框从左到右 咱们把鼠标放上去可以看到几个英文单词</p><ul><li><code>record</code> 记录浏览器运行中的某一个时间段的表现</li><li><code>reload page</code> 用于记录网页从最开始的加载到所有资源加载完成这个过程的性能表现。点击之后，页面会自动重新加载</li><li><code>Screenshots</code> 屏幕快照，显示动态加载的页面图片</li><li><code>memory</code> 查看多种内存占用变化</li></ul><p>现在我们可以打开任意一个网站 点击第二个按钮<code>reload page</code> 开始分析</p><p><img src="/images/s_poetries_work_uploads_2022_10_b064f72f814a44dd.png" alt=""></p><p><strong>1. FPS</strong> : 全称 <code>Frames Per Second</code>，表示<code>每秒传输帧数</code>，是速度单位，用来分析动画的一个主要性能指标。<code>1fps = 0.304 meter/sec</code>(米/秒)。如上图所示，绿色竖线越高，FPS 越高。 红色表示长时间帧，可能出现卡顿掉帧。</p><ul><li><strong>不同帧的体验</strong> ：</li><li>帧率能够达到 50 ～ 60 FPS 的动画将会相当流畅，让人倍感舒适；</li><li>帧率在 30 ～ 50 FPS 之间的动画，因各人敏感程度不同，舒适度因人而异；</li><li>帧率在 30 FPS 以下的动画，让人感觉到明显的卡顿和不适感； 帧率波动很大的动画，亦会使人感觉到卡顿。</li></ul><p><strong>2. CPU</strong> ：CPU 资源。此面积图指示消耗 CPU 资源的事件类型。 图中颜色分别为（与<strong>总体报告</strong> 中的 Summary 颜色数据表示一致）：</p><ul><li>蓝色(Loading)：表示网络通信和 HTML 解析时间。</li><li>黄色(Scripting)：表示 JavaScript 执行时间。</li><li>紫色(Rendering)：表示样式计算和布局（重排）时间。</li><li>绿色(Painting)：表示重绘时间。</li><li>灰色(other)：表示其它事件花费的时间。</li><li>白色(Idle)：表示空闲时间。</li></ul><p><strong>3. NET</strong> ：每条彩色横杠表示一种资源。横杠越长，检索资源所需的时间越长。 每个横杠的浅色部分表示等待时间（从请求资源到第一个字节下载完成的时间）</p><h4 id="火焰图" tabindex="-1"><a class="header-anchor" href="#火焰图"><span>火焰图</span></a></h4><p><img src="/images/s_poetries_work_uploads_2022_10_bb8cec381391697a.png" alt=""></p><ol><li><code>Network</code>：表示每个服务器资源的加载情况。</li><li><code>Frames</code>：表示每幅帧的运行情况，这里可以和上面总览的 FPS 结合来看</li><li><code>Timings</code>：</li></ol><ul><li><code>DCL（DOMContentLoaded）</code>表示 HTML 文档加载完成事件。当初始 HTML 文档完全加载并解析之后触发，无需等待样式、图片、子 <code>frame</code> 结束。作为明显的对比，<code>load</code> 事件是当个页面完全被加载时才触发。</li><li><code>FP（First Paint）</code>首屏绘制，页面刚开始渲染的时间。</li><li><code>FCP（First ContentfulPaint）</code>首屏内容绘制，首次绘制任何文本，图像，非空白 <code>canvas</code> 或 <code>SVG</code> 的时间点。</li><li><code>FMP（First MeaningfulPaint）</code>首屏有意义的内容绘制，这个“有意义”没有权威的规定，本质上是通过一种算法来猜测某个时间点可能是 <code>FMP</code>。有的理解为是最大元素绘制的时间，即同 LCP（Largest ContentfulPaint）。其中 FP、FCP、FMP 是同一条虚线，三者时间不一致。比如首次渲染过后，有可能出现 JS 阻塞，这种情况下 FCP 就会大于 FP。</li><li><code>L（Onload）</code>页面所有资源加载完成事件。</li><li><code>LCP（Largest Contentful Paint ）</code>最大内容绘制，页面上尺寸最大的元素绘制时间</li></ul><blockquote><p>这里的指标就是对应我们前面提到的<strong>性能指标</strong> 所以可以直接在 performance 面板来看到网页的几个核心指标的数值</p></blockquote><ol start="4"><li><strong>Main</strong> ：记录了渲染进程中主线程的执行记录，点击 main 可以看到某个任务执行的具体情况 是我们<strong>分析具体函数耗时</strong> 最常看的面板</li></ol><p><img src="/images/s_poetries_work_uploads_2022_10_449880989d27a5b9.png" alt=""></p><p>首先，面板中会有很多的 Task，如果是耗时长的 Task，其右上角会<strong>标红</strong> ，这个时候，我们可以选中标红的 Task，然后放大，看其具体的耗时点。</p><p>放大后，这里可以看到都在做哪些操作，哪些函数耗时了多少,这里代码有压缩，看到的是压缩后的函数名。然后我们点击一下某个函数，在面板最下面，就会出现代码的信息，是哪个函数，耗时多少，在哪个文件上的第几行等。</p><p>这样我们就很方便地<strong>定位到耗时函数</strong> 然后去针对性优化</p><ol start="5"><li><p>Compositor 合成线程的执行记录，用来记录 html 绘制阶段 (Paint)结束后的图层合成操作</p></li><li><p>Raster 光栅化线程池，用来让 GPU 执行光栅化的任务</p></li><li><p>GPU 可以直观看到何时启动 GPU 加速</p></li><li><p>Memory 选项，在勾选后，就会显示折线图</p></li></ol><p><img src="/images/s_poetries_work_uploads_2022_10_6e8ddaf30fa4bb79.png" alt=""></p><p>通过该图我们可以看到页面中的内存使用的情况，比如 JS Heap(堆)，如果曲线一直在增长，则说明存在内存泄露，如果相当长的一段时间，内存曲线都是没有下降的，这里是有发生内存泄露的可能的。</p><blockquote><p>其实在火焰图这块 我们主要关心上诉的 <strong>1234</strong> 核心的点就够了 另外如果想分析<strong>内存泄漏</strong> 可以勾选 <strong>memory</strong> 选项</p></blockquote><h4 id="总体报告" tabindex="-1"><a class="header-anchor" href="#总体报告"><span>总体报告</span></a></h4><h5 id="summary-表示各指标时间占用统计报表" tabindex="-1"><a class="header-anchor" href="#summary-表示各指标时间占用统计报表"><span>Summary：表示各指标时间占用统计报表</span></a></h5><p><img src="/images/s_poetries_work_uploads_2022_10_3ab54f6ac6bebab2.png" alt=""></p><p>这里的颜色代表的意思和<strong>总览区域里面的 cpu</strong> 颜色一样的意思</p><blockquote><p>这里一般来说，需要着重关注的有两个：一是黄色的区域，代表脚本执行时间，另一个是紫色的渲染时间</p></blockquote><p>1.Loading 事件</p><table><thead><tr><th>内容</th><th>说明</th></tr></thead><tbody><tr><td>Parse HTML</td><td>浏览器解析 HTML</td></tr><tr><td>Finish Loading</td><td>网络请求完成</td></tr><tr><td>Receive Data</td><td>请求的响应数据到达事件，如果响应数据很大（拆包），可能会多次触发该事件</td></tr><tr><td>Receive Response</td><td>响应头报文到达时触发</td></tr><tr><td>Send Request</td><td>发送网络请求时触发</td></tr></tbody></table><ol><li>Scripting 事件</li></ol><table><thead><tr><th>内容</th><th>说明</th></tr></thead><tbody><tr><td>AnimationFrameFired</td><td>一个定义好的动画帧发生并开始回调处理时触发</td></tr><tr><td>Cancel Animation Frame</td><td>取消一个动画帧时触发</td></tr><tr><td>GC Event</td><td>垃圾回收时触发</td></tr><tr><td>DOMContentLoaded</td><td>当页面中的 DOM 内容加载并解析完毕时触发</td></tr><tr><td>Evaluate Script</td><td>A script was evaluated.</td></tr><tr><td>Event</td><td>JS 事件</td></tr><tr><td>Function Call</td><td>浏览器进入 JS 引擎时触发</td></tr><tr><td>Install Timer</td><td>创建计时器（调用 setTimeout()和 setInterval()）时触发</td></tr><tr><td>Request Animation Frame</td><td>A requestAnimationFrame() call scheduled a new frame</td></tr><tr><td>Remove Timer</td><td>清除计时器触发</td></tr><tr><td>Time</td><td>调用 console.time() 触发</td></tr><tr><td>Time End</td><td>调用 console.timeEnd() 触发</td></tr><tr><td>Timer Fired</td><td>定时器激活回调后触发</td></tr><tr><td>XHR Ready State Change</td><td>当一个异步请求为就绪状态后触发</td></tr><tr><td>XHR Load</td><td>当一个异步请求完成加载后触发</td></tr></tbody></table><p>3.Rendering 事件</p><table><thead><tr><th>内容</th><th>说明</th></tr></thead><tbody><tr><td>Invalidate layout</td><td>当 DOM 更改导致页面布局失效时触发</td></tr><tr><td>Layout</td><td>页面布局计算执行时触发</td></tr><tr><td>Recalculate style</td><td>Chrome 重新计算元素样式时触发</td></tr><tr><td>Scroll</td><td>内嵌的视窗滚动时触发</td></tr></tbody></table><p>4.Painting 事件</p><table><thead><tr><th>内容</th><th>说明</th></tr></thead><tbody><tr><td>Composite Layers</td><td>Chrome 的渲染引擎完成图片层合并时触发</td></tr><tr><td>Image Decode</td><td>一个图片资源完成解码后触发</td></tr><tr><td>Image Resize</td><td>一个图片被修改尺寸后触发</td></tr><tr><td>Paint</td><td>合并后的层被绘制到对应显示区域后触发</td></tr></tbody></table><p>5.Stystem: 系统用时</p><p>6.Idle: 空闲时间</p><h5 id="bottom-up-表示事件时长排序列表-倒序" tabindex="-1"><a class="header-anchor" href="#bottom-up-表示事件时长排序列表-倒序"><span>Bottom-Up：表示事件时长排序列表（倒序）</span></a></h5><p><img src="/images/s_poetries_work_uploads_2022_10_1a488a759db184a1.png" alt=""></p><p>这里有两列时间数据，一是&quot;Self Time&quot;代表任务<strong>自身执行</strong> 所消耗的时间，二是&quot;Total Time&quot;代表此任务及其调用的附属子任务<strong>一共消耗</strong> 的时间。这两列数据各有不同的用处，可以按自己的需求决定按哪列数据作为排序字段。</p><p>在 Activity 的右侧，部分还带有 Source Map 链接，点击之后可以定位到相应操作对应的<strong>代码</strong> 。使用它可以比较方便地<strong>定位到具体的代码</strong> 。</p><h5 id="call-tree-表示事件调用顺序列表" tabindex="-1"><a class="header-anchor" href="#call-tree-表示事件调用顺序列表"><span>Call tree：表示事件调用顺序列表</span></a></h5><p><img src="/images/s_poetries_work_uploads_2022_10_30538768460964c8.png" alt=""></p><p>Call Tree 中的内容，在 Bottom-Up 中也能看到，无明显的区别。</p><h5 id="event-log-表示事件发生的顺序列表" tabindex="-1"><a class="header-anchor" href="#event-log-表示事件发生的顺序列表"><span>Event Log：表示事件发生的顺序列表</span></a></h5><p><img src="/images/s_poetries_work_uploads_2022_10_82932f6e8d6854ac.png" alt=""></p><p>Event Log 中的内容，是按顺序记录的事件日志，数据比较多。常见的优化级别中一般用不到它。如果是比较大型的应用，打开它可能会直接导致 Chrome 卡死。</p><p>除了 performance 我们还有一个更加<strong>便捷</strong> 的工具 它自动帮我们分析好了性能 还给出了<strong>优化建议</strong></p><h3 id="network网络分析" tabindex="-1"><a class="header-anchor" href="#network网络分析"><span>Network网络分析</span></a></h3><p><code>Network</code>面板是一个常被用到的工具，通过它可以获取到网站所有资源的请求情况，包括加载时间，尺寸大小，优先级设置以及<code>HTTP</code>缓存等信息。可以帮助开发者发现可能由于未进行有效压缩而导致资源尺寸过大的问题，未配置缓存策略导致二次请求加载时间过长的问题。</p><p><img src="/images/s_poetries_work_uploads_2022_10_3dfe29bf9e397962.png" alt=""></p><h4 id="_1-缓存测试-disable-cache" tabindex="-1"><a class="header-anchor" href="#_1-缓存测试-disable-cache"><span>1. 缓存测试 Disable cache</span></a></h4><p><img src="/images/s_poetries_work_uploads_2022_10_5855d04ad84eaec2.png" alt=""></p><h4 id="_2-吞吐测试-模拟网速" tabindex="-1"><a class="header-anchor" href="#_2-吞吐测试-模拟网速"><span>2. 吞吐测试，模拟网速</span></a></h4><p><img src="/images/s_poetries_work_uploads_2022_10_5b2e43b44abf1e9f.png" alt=""></p><h4 id="_3-coverage" tabindex="-1"><a class="header-anchor" href="#_3-coverage"><span>3. Coverage</span></a></h4><p>监控并统计出网站应用运行过程中代码执行的覆盖率情况。</p><p>统计的对象是<code>JavaScript</code>脚本文件与<code>css</code>样式文件，统计结果主要包括文件的字节大小，执行过程中已覆盖的代码字节数，可视化的覆盖率条形图。</p><p>根据执行结果可以发现到底哪些尺寸较大的代码文件覆盖率较低，这就意味着这些代码文件中可能存在较多的无用代码。</p><p><code>Ctrl + shift + p</code>搜索 <code>coverage</code> 就会显示出来。</p><p><img src="/images/s_poetries_work_uploads_2022_10_1e046cc764cf3d02.png" alt=""></p><p>可以看到第一个文件有<code>58%</code>没有被使用到，第二个有<code>95.2%</code>没有使用到</p><p><img src="/images/s_poetries_work_uploads_2022_10_1ce647270e67ec23.png" alt=""></p><h4 id="_4-memory-面板" tabindex="-1"><a class="header-anchor" href="#_4-memory-面板"><span>4. Memory 面板</span></a></h4><p>主要用于分析内存占用情况，如果出现内存泄露，那么就可能带来网站崩溃的后果。</p><p>为了更细致和准确的监控应用网站当前的内存使用情况，<code>Chrome</code>浏览器提供<code>Memory</code>面板，可以快速生成当前的堆内存快照。</p><p><img src="/images/s_poetries_work_uploads_2022_10_88587b2e98052c2f.png" alt=""></p><p>结束后可以查看到内存占用大小，就可以对对应的模块进行优化。</p><p><img src="/images/s_poetries_work_uploads_2022_10_eb05a432c3a1905f.png" alt=""></p><p><strong>5. FPS</strong></p><p>另一个非常方便的工具是<code>FPS</code>计数，可以在页面运行时提供对<code>FPS</code>的实时估计。</p><p><code>Ctrl + Shift + P</code> 输入 <code>fps</code> 选择显示渲染。就会在浏览器中出现监控面板。</p><p><img src="/images/s_poetries_work_uploads_2022_10_1646e6a466d8c822.png" alt=""></p><p>还可以使用性能监视器，这是一个事实的监视器。</p><p><code>Ctrl + Shift + P</code> 输入 <code>monitor</code></p><p><img src="/images/s_poetries_work_uploads_2022_10_5a780b936aef5e84.png" alt=""></p><h2 id="性能优化路径" tabindex="-1"><a class="header-anchor" href="#性能优化路径"><span>性能优化路径</span></a></h2><p>前端优化之前先从这样一个问题开始说起。当浏览器地址栏输入<code>url</code>按下回车，整个过程都发生了什么。性能优化基本也是围绕这个过程展开的。</p><p>首先浏览器接收到<code>URL</code>，到网络请求线程的开启，一个完整的<code>HTTP</code>请求发出，服务器接收到请求并转到具体的处理服务，前后台之间的<code>HTTP</code>交互和涉及的缓存机制，浏览器接收到数据包的关键渲染路径，<code>js</code>引擎的解析过程。大致就是这样一个过程。</p><p>下面来详细说说。</p><p>浏览器接收到输入的<code>URL</code>到开启网络请求线程，这个阶段是在浏览器内部完成的。那么什么是线程什么是进程呢？</p><p>简单来说，进程就是一个程序运行的实例，操作系统会为进程创建独立的内存，用来存放运行所需的代码和数据，而线程是进程的组成部分，每个进程至少有一个主线程及可能的若干子线程，这些线程由所需的进程进行启动和管理。</p><p>由于多个线程可以共享操作系统为其所属的同一个进程所分配的资源，所以多线程的并行处理能有效提高程序的运行效率。</p><p>只要某个线程执行出错，将会导致整个程序崩溃。进程与进程之间相互隔离，这保证了当一个进程挂起或崩溃的情况发生时并不会影响其他进程的正常运行，虽然每个进程只能访问系统分配给自己的资源，但可以通弄过<code>IPC</code>机制进行进程间通信。</p><p>进程所占用的资源会在其关闭后由操作系统回收，即使进程中存在某个线程产生的内存泄露，当进程退出时相关的内存资源也会被回收。线程之间可以共享所属进程的数据。</p><p>早期浏览器都是单进程的，其中的页面渲染，呈现，网络请求都通过线程来实现。前面说了只要一个线程崩溃就会导致整个进程崩溃。如果你上网较早应该有过这样的体会，一个网站卡死了整个浏览器都卡死了。单进程的浏览器存在很多的隐患，比如页面流畅度，安全性，稳定性都比较低。</p><p>后来<code>Chrome</code>推出了多进程浏览器，一个浏览器只有一个主进程，负责菜单栏，标题栏等页面显示，文件访问，前进后退以及子进程管理。除主进程外还有<code>GPU</code>进程，插件进程，网络进程，渲染进程。</p><p>渲染进程也称为浏览器内核，默认会为每个标签页开辟一个独立的渲染进程，负责将<code>HTML</code>，<code>CSS</code>，<code>JavaScript</code>等资源转为可交互的页面，其中包含多个子线程，<code>js</code>引擎线程，<code>GUI</code>渲染线程，事件触发线程，定时触发器线程，异步<code>http</code>请求线程等。当打开一个标签页输入URL后所发起的网络请求就是从这个进程开始的，处于安全的考虑渲染进程存在于沙箱中。打开<code>Chrome</code>的任务管理器可以从中发现这些进程。</p><p>建立<code>HTTP</code>请求这个阶段主要分为两部分，<code>DNS</code>解析和通信链路的建立。简单来说首先发起请求的客户端浏览器要明确知道所要访问的服务器地址，然后建立通往该服务器地址的路径</p><h3 id="_1-dns解析" tabindex="-1"><a class="header-anchor" href="#_1-dns解析"><span>1. DNS解析</span></a></h3><p><code>DNS</code>解析说白了就是根据<code>host</code>域名找到具体的<code>IP</code>地址，中间会经历很多的环节。</p><p>首先会查找浏览器的缓存，如果找不到就去查找系统自身的<code>DNS</code>缓存，在没有就去查找系统的<code>hosts</code>文件，再找不到就去本地域名服务器提供商查询根域名服务器，如果还是找不到就去查找<code>com</code>顶级域名服务器，最后会去权限域名服务器查找，都没有找到就返回报错信息。这就是<code>DNS</code>查找的过程，其中任何一个环节慢了都会影响后续的操作。</p><h3 id="_2-网络模型" tabindex="-1"><a class="header-anchor" href="#_2-网络模型"><span>2. 网络模型</span></a></h3><p>在通过<code>DNS</code>解析到目标服务器<code>IP</code>地址后，就可以简历网络连接进行资源的访问。在这个过程中涉及到网络架构模型，国际标准化组织提出了一些网络架构的模型，<code>OSI</code>、<code>TCP/IP</code>。</p><p><code>OSI</code>是七层架构，包括应用层，表示层，会话层，传输层，网络层，数据链路层，物理层。<code>TCP/IP</code>简化到了四层，应用层，传输层，网络层，数据链路层。同样每一层慢了对性能都有影响。</p><h3 id="_3-tcp" tabindex="-1"><a class="header-anchor" href="#_3-tcp"><span>3. TCP</span></a></h3><p>经过网络模型之后就要建立<code>TCP</code>链接，主要是为了通过<code>http</code>对数据进行请求和发送。</p><p>由于<code>TCP</code>是面向有链接的通信协议，所以在传输数据之前需要建立好客户端与服务间的链接，即通常所说的三次握手。</p><h3 id="_4-前后端数据交互" tabindex="-1"><a class="header-anchor" href="#_4-前后端数据交互"><span>4. 前后端数据交互</span></a></h3><p>当<code>TCP</code>链接建立好以后，便可通过<code>HTTP</code>等协议进行前后端的通信，但在实际的应用中，并非浏览器与确定<code>IP</code>地址的服务器之间直接通信，往往会在中间加入反向代理服务器。</p><h3 id="_5-反向代理服务器" tabindex="-1"><a class="header-anchor" href="#_5-反向代理服务器"><span>5. 反向代理服务器</span></a></h3><p>反向代理服务器根据客户的请求，从后端服务器上获取资源后提供给客户端，反向代理通过会做下面一些事，比如负载均衡，安全防火墙，加密及<code>SSL</code>加速，数据压缩，解决跨域，静态资源缓存。</p><h3 id="_6-后端处理流程" tabindex="-1"><a class="header-anchor" href="#_6-后端处理流程"><span>6. 后端处理流程</span></a></h3><p>请求经过反向代理服务器收到请求后，首先会有一层统一的验证环节，如跨域验证，安全拦截等，如果发现是不规则的请求则直接返回相应的拒绝报文。</p><p>通过验证后才会进入具体的后天程序代码执行阶段，如具体的计算数据库的操作等。</p><p>完成计算之后，后台会以一个<code>HTTP</code>响应数据包的形式发送回请求的前端，解说此次请求。</p><h3 id="_7-http相关协议特性" tabindex="-1"><a class="header-anchor" href="#_7-http相关协议特性"><span>7. HTTP相关协议特性</span></a></h3><p><code>HTTP</code>是建立在传输层<code>TCP</code>协议上的应用层协议，在<code>TCP</code>层面上存在长链接和短连接的区别。</p><p>所谓长链接就是在客户端与服务器端简历<code>TCP</code>连接上可以连续发送数据包，但需要双方发送心跳检查包来维持这个链接。</p><p>短连接就是当客户端需要向服务器发送请求时，会在网络层<code>IP</code>协议之上建立一次链接，当请求发送并收到响应后，则断开此链接。</p><p><code>HTTP1.0</code>时默认使用短连接。</p><p><code>HTTP1.1</code>时默认使用长链接，但是长链接存在并发数，如果请求过多仍旧需要等待。常用的做法是将域名进行拆分，对小图标进行合并。</p><p><code>HTTP2.0</code>之后便可以在一个<code>TCP</code>链接上请求多个资源，分割成更小的帧请求的性能再次提成。</p><h3 id="_8-浏览器缓存" tabindex="-1"><a class="header-anchor" href="#_8-浏览器缓存"><span>8. 浏览器缓存</span></a></h3><p>基于<code>HTTP</code>的缓存分为强缓存和协商缓存。</p><p>强缓存就是当浏览器判断出本地缓存未过期时，直接取本地缓存，无需发起请求，此时的状态为<code>200 from cache</code>，在<code>HTTP1.1</code>版本后通过头部的<code>cache-control max- age</code>属性值规定的过期时长来判断缓存是否失效，这比之前使用<code>expires</code>过期时间更准确并且安全。</p><p>协商缓存则需要浏览器发起<code>HTTP</code>请求，来判断浏览器本地缓存的文件是否改变。</p><h3 id="_9-关键渲染路径" tabindex="-1"><a class="header-anchor" href="#_9-关键渲染路径"><span>9. 关键渲染路径</span></a></h3><p>当经历了网络请求过程，从服务器获取到了所访问的页面文件之后，浏览器便要开始渲染服务器响应回来的内容。</p><p>首先浏览器会通过解析<code>HTML</code>和<code>CSS</code>文件来构建<code>DOM</code>和<code>CSSOM</code>。</p><p>浏览器接收读取到<code>HTML</code>文件，其实是根绝文件指定编码的原始字节，首先需要将字节转换为字符串，再将字符串转换为<code>W3C</code>标准规定的令牌结构，令牌就是<code>HTML</code>中不同标签代表不同含义的一组规则结构。然后经过词法分析将令牌转化为定义了属性和规则值的对象，最后将这些标签根据<code>HTML</code>表示的父子关系，连接成树形结构。</p><p><code>DOM</code>树表示文档标记的属性和关系，但未包含其中各元素经过渲染后的外观呈现，这边是接下来<code>CSSOM</code>的职责了，与将<code>HTML</code>文件解析为文档对象模型的过程类似，<code>CSS</code>文件也会首先经历从字节到字符串，然后令牌化及词法分析后构建为层叠样式表对象模型。</p><p>这两个对象模型的构建过程是会花费时间的，可以通过浏览器的开发者工具性能选项卡查看到对应过程的耗时情况。</p><p>得到文档对象模型和层叠样式表对象之后就要进行绘制，呈现之前浏览器需要将文档对象模型和样式模型合并到一起最终形成一颗渲染树。这棵树中只包含可见的节点，比如<code>display</code>为<code>node</code>的节点就是不包含的。</p><p>从所生成的<code>DOM</code>树的根节点开始向下遍历每个子节点，忽略所有不可见的节点，因为不可见的节点不会出现在渲染树中。</p><p>在<code>CSSOM</code>中为每个可见的子节点找到对应的规则并应用。</p><p>布局节点根据所得到的渲染树，计算他们在试图设备中的具体位置和大小，这一步输出的是一个盒模型。绘制节点将每个节点的具体绘制方案转化为屏幕上的实际像素。</p><p>构建渲染树，布局，及绘制过程所需要的时间取决于实际文档的大小。文档过大，浏览器需要处理的任务就越多样式也复杂，绘制需要的时间就越长。所以关键渲染路径执行快慢，将直接影响首屏加载时间的性能指标。</p><p>当首屏渲染完成胡，用户在和网站的交互过程中，有可能通过<code>JavaScript</code>代码提供的用户操作接口更改渲染树的结构。一旦<code>DOM</code>结构发生改变，这个渲染过程就会重新执行一遍。</p><p>关键渲染路径的优化不仅是首屏性能，还有交互性能。</p><h2 id="简版性能监控工具" tabindex="-1"><a class="header-anchor" href="#简版性能监控工具"><span>简版性能监控工具</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">    <span class="token keyword">var</span> base <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">logPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">getLoadTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">getTimeoutRes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">var</span> pm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// 向前兼容</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>performance<span class="token punctuation">)</span> <span class="token keyword">return</span> base</span>
<span class="line">      <span class="token keyword">const</span> pMonitor <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>base <span class="token punctuation">}</span></span>
<span class="line">      <span class="token keyword">let</span> config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">      <span class="token keyword">const</span> <span class="token constant">SEC</span> <span class="token operator">=</span> <span class="token number">1000</span></span>
<span class="line">      <span class="token keyword">const</span> <span class="token constant">TIMEOUT</span> <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">*</span> <span class="token constant">SEC</span></span>
<span class="line">      <span class="token keyword">const</span> <span class="token function-variable function">setTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">limit <span class="token operator">=</span> <span class="token constant">TIMEOUT</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token parameter">time</span> <span class="token operator">=&gt;</span> time <span class="token operator">&gt;=</span> limit</span>
<span class="line">      <span class="token keyword">const</span> <span class="token function-variable function">getLoadTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> startTime<span class="token punctuation">,</span> responseEnd <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> responseEnd <span class="token operator">-</span> startTime</span>
<span class="line">      <span class="token keyword">const</span> <span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name</span>
<span class="line">      <span class="token comment">// 生成表单数据</span></span>
<span class="line">      <span class="token keyword">const</span> <span class="token function-variable function">convert2FormData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line">        Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">last<span class="token punctuation">,</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">lastResult<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">              lastResult<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">[]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> item<span class="token punctuation">)</span></span>
<span class="line">              <span class="token keyword">return</span> lastResult</span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span> last<span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">          last<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span></span>
<span class="line">          <span class="token keyword">return</span> last</span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token comment">// 拼接 GET 时的url</span></span>
<span class="line">      <span class="token keyword">const</span> <span class="token function-variable function">makeItStr</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span></span>
<span class="line">        Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>k<span class="token punctuation">,</span> v<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>k<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>v<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">      pMonitor<span class="token punctuation">.</span><span class="token function-variable function">getLoadTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> domComplete <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&#39;navigation&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> domComplete</span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      pMonitor<span class="token punctuation">.</span><span class="token function-variable function">getTimeoutRes</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">limit <span class="token operator">=</span> <span class="token constant">TIMEOUT</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> isTimeout <span class="token operator">=</span> <span class="token function">setTime</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">const</span> resourceTimes <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&#39;resource&#39;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> resourceTimes</span>
<span class="line">          <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token function">isTimeout</span><span class="token punctuation">(</span><span class="token function">getLoadTime</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>getName<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token comment">// 上报数据</span></span>
<span class="line">      pMonitor<span class="token punctuation">.</span>log <span class="token operator">=</span> <span class="token punctuation">(</span>url<span class="token punctuation">,</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> method <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">const</span> urlToUse <span class="token operator">=</span> method <span class="token operator">===</span> <span class="token string">&#39;get&#39;</span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">?</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">makeItStr</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> url</span>
<span class="line">        <span class="token keyword">const</span> body <span class="token operator">=</span> method <span class="token operator">===</span> <span class="token string">&#39;get&#39;</span> <span class="token operator">?</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token function">convert2FormData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">const</span> init <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">          method<span class="token punctuation">,</span></span>
<span class="line">          <span class="token operator">...</span>body</span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token function">fetch</span><span class="token punctuation">(</span>urlToUse<span class="token punctuation">,</span> init<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token comment">// 封装一个上报两项核心数据的方法</span></span>
<span class="line">      pMonitor<span class="token punctuation">.</span><span class="token function-variable function">logPackage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> <span class="token punctuation">{</span> url<span class="token punctuation">,</span> timeoutUrl<span class="token punctuation">,</span> method <span class="token punctuation">}</span> <span class="token operator">=</span> config</span>
<span class="line">        <span class="token keyword">const</span> domComplete <span class="token operator">=</span> pMonitor<span class="token punctuation">.</span><span class="token function">getLoadTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">const</span> timeoutRes <span class="token operator">=</span> pMonitor<span class="token punctuation">.</span><span class="token function">getTimeoutRes</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>timeout<span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment">// 上报页面加载时间</span></span>
<span class="line">        pMonitor<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> domComplete <span class="token punctuation">}</span><span class="token punctuation">,</span> method<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>timeoutRes<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          pMonitor<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span></span>
<span class="line">            timeoutUrl<span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">{</span></span>
<span class="line">              timeoutRes</span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">            method</span>
<span class="line">          <span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">      <span class="token comment">// 事件绑定</span></span>
<span class="line">      pMonitor<span class="token punctuation">.</span><span class="token function-variable function">bindEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> oldOnload <span class="token operator">=</span> window<span class="token punctuation">.</span>onload</span>
<span class="line">        window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token keyword">if</span> <span class="token punctuation">(</span>oldOnload <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> oldOnload <span class="token operator">===</span> <span class="token string">&#39;function&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">oldOnload</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">          <span class="token comment">// 尽量不影响页面主线程</span></span>
<span class="line">          <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>requestIdleCallback<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            window<span class="token punctuation">.</span><span class="token function">requestIdleCallback</span><span class="token punctuation">(</span>pMonitor<span class="token punctuation">.</span>logPackage<span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">setTimeout</span><span class="token punctuation">(</span>pMonitor<span class="token punctuation">.</span>logPackage<span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">      <span class="token doc-comment comment">/**</span>
<span class="line">       * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>object<span class="token punctuation">}</span></span> <span class="token parameter">option</span></span>
<span class="line">       * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">option<span class="token punctuation">.</span>url</span> 页面加载数据的上报地址</span>
<span class="line">       * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">option<span class="token punctuation">.</span>timeoutUrl</span> 页面资源超时的上报地址</span>
<span class="line">       * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">=</span><span class="token punctuation">}</span></span> <span class="token optional-parameter"><span class="token punctuation">[</span><span class="token parameter">option<span class="token punctuation">.</span>method</span><span class="token punctuation">=</span><span class="token code language-javascript"><span class="token string">&#39;POST&#39;</span></span><span class="token punctuation">]</span></span> 请求方式</span>
<span class="line">       * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>number<span class="token punctuation">=</span><span class="token punctuation">}</span></span> <span class="token optional-parameter"><span class="token punctuation">[</span><span class="token parameter">option<span class="token punctuation">.</span>timeout</span><span class="token punctuation">=</span><span class="token code language-javascript"><span class="token number">10000</span></span><span class="token punctuation">]</span></span></span>
<span class="line">       */</span></span>
<span class="line">      pMonitor<span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token parameter">option</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> <span class="token punctuation">{</span> url<span class="token punctuation">,</span> timeoutUrl<span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span> timeout <span class="token operator">=</span> <span class="token number">10000</span> <span class="token punctuation">}</span> <span class="token operator">=</span> option</span>
<span class="line">        config <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">          url<span class="token punctuation">,</span></span>
<span class="line">          timeoutUrl<span class="token punctuation">,</span></span>
<span class="line">          method<span class="token punctuation">,</span></span>
<span class="line">          timeout</span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">// 绑定事件 用于触发上报数据</span></span>
<span class="line">        pMonitor<span class="token punctuation">.</span><span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">      <span class="token keyword">return</span> pMonitor</span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>阅读全文</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: guoli@zhihu.com">guoli</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button type="button" class="close-button" aria-label="关闭"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="close icon"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></svg></button><div class="logo"><!----><div class="title"><h1></h1><p class="desc">该应用可以安装在你的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和你的操作系统安全地进行交互。</p></div></div></div><div class="content"><div class="highlight"><!----><!----></div><div class="description"><h3>详情</h3><p></p></div></div><div class="button-wrapper"><button type="button" class="install-button">安装<span></span></button><button type="button" class="cancel-button">取消</button></div></div></div></div><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DVMZDNEl.js" defer></script>
  </body>
</html>
