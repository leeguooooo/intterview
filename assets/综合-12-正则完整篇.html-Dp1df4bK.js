import{_ as s,c as n,o as a,a as e}from"./app-DPCMlS-8.js";const t="/images/s_poetries_work_uploads_2023_12_ed05c12bd5dedc75.png",p="/images/s_poetries_work_uploads_2023_12_da1447013f155fa8.png",o="/images/s_poetries_work_uploads_2023_12_03c4b5f670eb7117.png",l="/images/s_poetries_work_uploads_2023_12_907643611caaa74c.png",c="/images/s_poetries_work_uploads_2023_12_241c70dd801d6291.png",i="/images/s_poetries_work_uploads_2023_12_881a9bbc0b51f582.png",u="/images/s_poetries_work_uploads_2023_12_ce3dd9321ba55a9c.png",r="/images/s_poetries_work_uploads_2023_12_d9509244020d7ce1.png",d="/images/s_poetries_work_uploads_2023_12_21cf73e992373694.png",k="/images/s_poetries_work_uploads_2023_12_aad9216afc57f661.png",g="/images/s_poetries_work_uploads_2023_12_b2cbf9f6bd52e905.png",v={},m=e(`<p>原文链接: <a href="https://interview.poetries.top/principle-docs/comprehensive/12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html" target="_blank" rel="noopener noreferrer">https://interview.poetries.top/principle-docs/comprehensive/12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html</a></p><blockquote><p>正则表达式是匹配模式，要么匹配字符，要么匹配位置。请记住这句话</p></blockquote><h2 id="第一章-正则表达式字符匹配攻略" tabindex="-1"><a class="header-anchor" href="#第一章-正则表达式字符匹配攻略"><span>第一章 正则表达式字符匹配攻略</span></a></h2><h3 id="_1-1-两种模糊匹配" tabindex="-1"><a class="header-anchor" href="#_1-1-两种模糊匹配"><span>1.1 两种模糊匹配</span></a></h3><blockquote><p>如果正则只有精确匹配是没多大意义的，比如<code>/hello/</code>，也只能匹配字符串中的&quot;<code>hello</code>&quot;这个子串</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">hello</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>正则表达式之所以强大，是因为其能实现模糊匹配</li><li>而模糊匹配，有两个方向上的“模糊”：横向模糊和纵向模糊</li></ul><h4 id="_1-1-1-横向模糊匹配" tabindex="-1"><a class="header-anchor" href="#_1-1-1-横向模糊匹配"><span>1.1.1 横向模糊匹配</span></a></h4><ul><li>横向模糊指的是，一个正则可匹配的字符串的长度不是固定的，可以是多种情况的</li><li>其实现的方式是使用量词。譬如<code>{m,n}</code>，表示连续出现最少<code>m</code>次，最多<code>n</code>次</li></ul><blockquote><p>比如<code>/ab{2,5}c/</code>表示匹配这样一个字符串：第一个字符是“a”，接下来是2到5个字符“b”，最后是字符“c”。测试如下</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab{2,5}c</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;abc abbc abbbc abbbbc abbbbbc abbbbbbc&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;abbc&quot;, &quot;abbbc&quot;, &quot;abbbbc&quot;, &quot;abbbbbc&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-1-2-纵向模糊匹配" tabindex="-1"><a class="header-anchor" href="#_1-1-2-纵向模糊匹配"><span>1.1.2 纵向模糊匹配</span></a></h4><blockquote><p>纵向模糊指的是，一个正则匹配的字符串，具体到某一位字符时，它可以不是某个确定的字符，可以有多种可能</p></blockquote><ul><li>其实现的方式是使用字符组。譬如<code>[abc]</code>，表示该字符是可以字符“a”、“b”、“c”中的任何一个</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">a[123]b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;a0b a1b a2b a3b a4b&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;a1b&quot;, &quot;a2b&quot;, &quot;a3b&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>只要掌握横向和纵向模糊匹配，就能解决很大部分正则匹配问题</p></blockquote><h3 id="_1-2-字符组" tabindex="-1"><a class="header-anchor" href="#_1-2-字符组"><span>1.2 字符组</span></a></h3><blockquote><p>需要强调的是，虽叫字符组（字符类），但只是其中一个字符。例如<code>[abc]</code>，表示匹配一个字符，它可以是“<code>a</code>”、“<code>b</code>”、“<code>c</code>”之一</p></blockquote><h4 id="_1-2-1-范围表示法" tabindex="-1"><a class="header-anchor" href="#_1-2-1-范围表示法"><span>1.2.1 范围表示法</span></a></h4><blockquote><p>如果字符组里的字符特别多的话，怎么办？可以使用范围表示法</p></blockquote><ul><li>如果字符组里的字符特别多的话，怎么办？可以使用范围表示法</li><li>比如<code>[123456abcdefGHIJKLM]</code>，可以写成<code>[1-6a-fG-M]</code>。用连字符-来省略和简写</li><li>因为连字符有特殊用途，那么要匹配“<code>a</code>”、“<code>-</code>”、“<code>z</code>”这三者中任意一个字符，该怎么做呢？</li><li>不能写成<code>[a-z]</code>，因为其表示小写字符中的任何一个字符。</li><li>可以写成如下的方式：<code>[-az]</code>或<code>[az-]</code>或<code>[a\\-z]</code>。即要么放在开头，要么放在结尾，要么转义。总之不会让引擎认为是范围表示法就行了</li></ul><h4 id="_1-2-2-排除字符组" tabindex="-1"><a class="header-anchor" href="#_1-2-2-排除字符组"><span>1.2.2 排除字符组</span></a></h4><ul><li>纵向模糊匹配，还有一种情形就是，某位字符可以是任何东西，但就不能是&quot;<code>a</code>&quot;、&quot;<code>b</code>&quot;、&quot;c&quot;</li><li>此时就是排除字符组（反义字符组）的概念。例如<code>[^abc]</code>，表示是一个除&quot;a&quot;、&quot;b&quot;、&quot;c&quot;之外的任意一个字符。字符组的第一位放^（脱字符），表示求反的概念</li></ul><h4 id="_1-2-3-常见的简写形式" tabindex="-1"><a class="header-anchor" href="#_1-2-3-常见的简写形式"><span>1.2.3 常见的简写形式</span></a></h4><blockquote><p>有了字符组的概念后，一些常见的符号我们也就理解了。因为它们都是系统自带的简写形式</p></blockquote><ul><li><code>\\d</code>就是<code>[0-9]</code>。表示是一位数字。记忆方式：其英文是digit（数字）</li><li><code>D</code>就是<code>[^0-9]</code>。表示除数字外的任意字符</li><li><code>\\w</code>就是<code>[0-9a-zA-Z_]</code>。表示数字、大小写字母和下划线。记忆方式：w是word的简写，也称单词字符。</li><li><code>W</code>是<code>[^0-9a-zA-Z_]</code>。非单词字符</li><li><code>\\s</code>是<code>[ \\t\\v\\n\\r\\f]</code>。表示空白符，包括空格、水平制表符、垂直制表符、换行符、回车符、换页符。记忆方式：<code>s</code>是space character的首字母</li><li><code>\\S</code>是<code>[^ \\t\\v\\n\\r\\f]</code>。 非空白符</li><li><code>.</code>就是<code>[^\\n\\r\\u2028\\u2029]</code>。通配符，表示几乎任意字符。换行符、回车符、行分隔符和段分隔符除外。记忆方式：想想省略号...中的每个点，都可以理解成占位符，表示任何类似的东西</li></ul><blockquote><p>如果要匹配任意字符怎么办？可以使用<code>[\\d\\D]</code>、<code>[\\w\\W]</code>、<code>[\\s\\S]</code>和<code>[^]</code>中任何的一个。</p></blockquote><h3 id="_1-3-量词" tabindex="-1"><a class="header-anchor" href="#_1-3-量词"><span>1.3 量词</span></a></h3><blockquote><p>量词也称重复。掌握<code>{m,n}</code>的准确含义后，只需要记住一些简写形式</p></blockquote><h4 id="_1-3-1-简写形式" tabindex="-1"><a class="header-anchor" href="#_1-3-1-简写形式"><span>1.3.1 简写形式</span></a></h4><ul><li><code>{m,}</code>表示至少出现<code>m</code>次</li><li><code>{m}</code> 等价于<code>{m,m}</code>，表示出现<code>m</code>次</li><li><code>?</code> 等价于<code>{0,1}</code>，表示出现或者不出现。记忆方式：问号的意思表示，有吗？</li><li><code>+</code> 等价于<code>{1,}</code>，表示出现至少一次。记忆方式：加号是追加的意思，得先有一个，然后才考虑追加</li><li><code>*</code> 等价于<code>{0,}</code>，表示出现任意次，有可能不出现。记忆方式：看看天上的星星，可能一颗没有，可能零散有几颗，可能数也数不过来</li></ul><h4 id="_1-3-2-贪婪匹配和惰性匹配" tabindex="-1"><a class="header-anchor" href="#_1-3-2-贪婪匹配和惰性匹配"><span>1.3.2 贪婪匹配和惰性匹配</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d{2,5}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;123 1234 12345 123456&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;123&quot;, &quot;1234&quot;, &quot;12345&quot;, &quot;12345&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其中正则<code>/\\d{2,5}/</code>，表示数字连续出现2到5次。会匹配2位、3位、4位、5位连续数字</li><li>但是其是贪婪的，它会尽可能多的匹配。你能给我6个，我就要5个。你能给我3个，我就3要个。反正只要在能力范围内，越多越好</li><li>我们知道有时贪婪不是一件好事（请看文章最后一个例子）。而惰性匹配，就是尽可能少的匹配</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d{2,5}?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;123 1234 12345 123456&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;12&quot;, &quot;12&quot;, &quot;34&quot;, &quot;12&quot;, &quot;34&quot;, &quot;12&quot;, &quot;34&quot;, &quot;56&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中<code>/\\d{2,5}?/</code>表示，虽然2到5次都行，当2个就够的时候，就不在往下尝试了</p></blockquote><ul><li>通过在量词后面加个问号就能实现惰性匹配，因此所有惰性匹配情形如下</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token punctuation">{</span>m<span class="token punctuation">,</span>n<span class="token punctuation">}</span><span class="token operator">?</span></span>
<span class="line">    <span class="token punctuation">{</span>m<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token operator">?</span></span>
<span class="line">    <span class="token operator">??</span></span>
<span class="line">    <span class="token operator">+</span><span class="token operator">?</span></span>
<span class="line">    <span class="token operator">*</span><span class="token operator">?</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>.*</code> 是贪婪模式</li><li><code>.*?</code> 是勉强模式</li></ul><blockquote><p>对惰性匹配的记忆方式是：量词后面加个问号，问一问你知足了吗，你很贪婪吗？</p></blockquote><h3 id="_1-4-多选分支" tabindex="-1"><a class="header-anchor" href="#_1-4-多选分支"><span>1.4 多选分支</span></a></h3><ul><li>一个模式可以实现横向和纵向模糊匹配。而多选分支可以支持多个子模式任选其一</li><li>具体形式如下：<code>(p1|p2|p3)</code>，其中p1、p2和p3是子模式，用|（管道符）分隔，表示其中任何之一</li><li>例如要匹配&quot;<code>good</code>&quot;和&quot;<code>nice</code>&quot;可以使用<code>/good|nice/</code>。测试如下</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">good|nice</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;good idea, nice try.&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;good&quot;, &quot;nice&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>但有个事实我们应该注意，比如我用/good|goodbye/，去匹配&quot;goodbye&quot;字符串时，结果是&quot;good&quot;：</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">good|goodbye</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;goodbye&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;good&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>而把正则改成<code>/goodbye|good/</code>，结果是</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">     <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">goodbye|good</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;goodbye&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;goodbye&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>也就是说，分支结构也是惰性的，即当前面的匹配上了，后面的就不再尝试了</p></blockquote><h3 id="_1-5-案例分析" tabindex="-1"><a class="header-anchor" href="#_1-5-案例分析"><span>1.5 案例分析</span></a></h3><blockquote><p>匹配字符，无非就是字符组、量词和分支结构的组合使用罢了</p></blockquote><h4 id="_1-5-1-匹配16进制颜色值" tabindex="-1"><a class="header-anchor" href="#_1-5-1-匹配16进制颜色值"><span>1.5.1 匹配16进制颜色值</span></a></h4><ul><li>要求匹配</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    #ffbbad</span>
<span class="line">    #Fc01DF</span>
<span class="line">    #<span class="token constant">FFF</span></span>
<span class="line">    #ffE</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分析</p><ul><li>表示一个16进制字符，可以用字符组<code>[0-9a-fA-F]</code></li><li>其中字符可以出现<code>3</code>或<code>6</code>次，需要是用量词和分支结构</li><li>使用分支结构时，需要注意顺序</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;#ffbbad #Fc01DF #FFF #ffE&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;#ffbbad&quot;, &quot;#Fc01DF&quot;, &quot;#FFF&quot;, &quot;#ffE&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-5-2-匹配时间" tabindex="-1"><a class="header-anchor" href="#_1-5-2-匹配时间"><span>1.5.2 匹配时间</span></a></h4><p>要求匹配</p><ul><li>23:59</li><li>02:07</li></ul><p>分析</p><ul><li>共4位数字，第一位数字可以为<code>[0-2]</code></li><li>当第1位为2时，第2位可以为<code>[0-3]</code>，其他情况时，第2位为<code>[0-9]</code></li><li>第3位数字为<code>[0-5]</code>，第4位为<code>[0-9]</code></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^([01][0-9]|[2][0-3]):[0-5][0-9]$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;23:59&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;02:07&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>如果也要求匹配7:9，也就是说时分前面的0可以省略</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(0?[0-9]|1[0-9]|[2][0-3]):(0?[0-9]|[1-5][0-9])$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;23:59&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;02:07&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;7:9&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-5-3-匹配日期" tabindex="-1"><a class="header-anchor" href="#_1-5-3-匹配日期"><span>1.5.3 匹配日期</span></a></h4><blockquote><p>比如<code>yyyy-mm-dd</code>格式为例</p></blockquote><p>要求匹配 <code>2017-06-10</code></p><p>分析</p><ul><li>年，四位数字即可，可用<code>[0-9]{4}</code></li><li>月，共12个月，分两种情况01、02、……、09和10、11、12，可用<code>(0[1-9]|1[0-2])</code></li><li>日，最大31天，可用<code>(0[1-9]|[12][0-9]|3[01])</code></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;2017-06-10&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-5-4-window操作系统文件路径" tabindex="-1"><a class="header-anchor" href="#_1-5-4-window操作系统文件路径"><span>1.5.4 window操作系统文件路径</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token constant">F</span><span class="token operator">:</span>\\study\\javascript\\regex\\regular expression<span class="token punctuation">.</span>pdf</span>
<span class="line">    <span class="token constant">F</span><span class="token operator">:</span>\\study\\javascript\\regex\\</span>
<span class="line">    <span class="token constant">F</span><span class="token operator">:</span>\\study\\javascript</span>
<span class="line">    <span class="token constant">F</span><span class="token operator">:</span>\\</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分析</p><ul><li>整体模式是: 盘符:<code>\\文件夹\\文件夹\\文件夹\\</code></li><li>其中匹配<code>F:\\</code>，需要使用<code>[a-zA-Z]:\\\\</code>，其中盘符不区分大小写，注意<code>\\</code>字符需要转义</li><li>文件名或者文件夹名，不能包含一些特殊字符，此时我们需要排除字符组<code>[^\\\\:*&lt;&gt;|&quot;?\\r\\n/]</code>来表示合法字符。另外不能为空名，至少有一个字符，也就是要使用量词+。因此匹配“文件夹\\”，可用<code>[^\\\\:*&lt;&gt;|&quot;?\\r\\n/]+\\\\</code></li><li>另外“文件夹\\”，可以出现任意次。也就是<code>([^\\\\:*&lt;&gt;|&quot;?\\r\\n/]+\\\\)*</code>。其中括号提供子表达式。</li><li>路径的最后一部分可以是“文件夹”，没有\\，因此需要添加<code>([^\\\\:*&lt;&gt;|&quot;?\\r\\n/]+)?</code></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[a-zA-Z]:\\\\([^\\\\:*&lt;&gt;|&quot;?\\r\\n/]+\\\\)*([^\\\\:*&lt;&gt;|&quot;?\\r\\n/]+)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\\\study\\\\javascript\\\\regex\\\\regular expression.pdf&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\\\study\\\\javascript\\\\regex\\\\&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\\\study\\\\javascript&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;F:\\\\&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中，JS中字符串表示\\时，也要转义</p></blockquote><h4 id="_1-5-5-匹配id" tabindex="-1"><a class="header-anchor" href="#_1-5-5-匹配id"><span>1.5.5 匹配id</span></a></h4><blockquote><p>要求从<code>&lt;div id=&quot;container&quot; class=&quot;main&quot;&gt;&lt;/div&gt;</code>中提取出<code>id=&quot;container&quot;</code></p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">id=&quot;.*?&quot;</span><span class="token regex-delimiter">/</span></span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&#39;&lt;div id=&quot;container&quot; class=&quot;main&quot;&gt;&lt;/div&gt;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; id=&quot;container&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>小结</strong></p><blockquote><p>掌握字符组和量词就能解决大部分常见的情形，也就是说，当你会了这二者，JS正则算是入门了</p></blockquote><h2 id="第二章-正则表达式位置匹配攻略" tabindex="-1"><a class="header-anchor" href="#第二章-正则表达式位置匹配攻略"><span>第二章 正则表达式位置匹配攻略</span></a></h2><blockquote><p>正则表达式是匹配模式，要么匹配字符，要么匹配位置。请记住这句话</p></blockquote><h3 id="_2-1-什么是位置" tabindex="-1"><a class="header-anchor" href="#_2-1-什么是位置"><span>2.1 什么是位置</span></a></h3><blockquote><p>位置是相邻字符之间的位置。比如，下图中箭头所指的地方</p></blockquote><p><img src="`+t+`" alt=""></p><h3 id="_2-2-如何匹配位置" tabindex="-1"><a class="header-anchor" href="#_2-2-如何匹配位置"><span>2.2 如何匹配位置</span></a></h3><blockquote><p>在ES5中，共有6个锚字符</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token operator">^</span> $ \\b \\<span class="token constant">B</span> <span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">=</span>p<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">!</span>p<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_2-2-1-和" tabindex="-1"><a class="header-anchor" href="#_2-2-1-和"><span>2.2.1 $和^</span></a></h4><ul><li><code>^</code>（脱字符）匹配开头，在多行匹配中匹配行开头</li><li><code>$</code>（美元符号）匹配结尾，在多行匹配中匹配行结尾</li></ul><blockquote><p>比如我们把字符串的开头和结尾用<code>&quot;#&quot;</code>替换（位置可以替换成字符的！</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^|$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;#&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;#hello#&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>多行匹配模式时，二者是行的概念，这个需要我们的注意</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;I\\nlove\\njavascript&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^|$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">gm</span></span><span class="token punctuation">,</span> <span class="token string">&#39;#&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">/*</span>
<span class="line">    #I#</span>
<span class="line">    #love#</span>
<span class="line">    #javascript#</span>
<span class="line">    *</span>
<span class="line"></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-2-b和-b" tabindex="-1"><a class="header-anchor" href="#_2-2-2-b和-b"><span>2.2.2 \\b和\\B</span></a></h4><blockquote><p>\\b是单词边界，具体就是\\w和\\W之间的位置，也包括\\w和^之间的位置，也包括\\w和$之间的位置</p></blockquote><ul><li>比如一个文件名是&quot;<code>[JS] Lesson_01.mp4</code>&quot;中的<code>\\b</code>，如下</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;[JS] Lesson_01.mp4&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;#&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;[#JS#] #Lesson_01#.#mp4#&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-3-p-和-p" tabindex="-1"><a class="header-anchor" href="#_2-2-3-p-和-p"><span>2.2.3 (?=p)和(?!p)</span></a></h4><ul><li><code>(?=p)</code>，其中p是一个子模式，即p前面的位置</li><li>比如<code>(?=l)</code>，表示&#39;l&#39;字符前面的位置</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=l)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;#&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;he#l#lo&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>而(<code>?!p</code>)就是(<code>?=p</code>)的反面意思，比如</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!l)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;#&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;#h#ell#o#&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>分别是正向先行断言和负向先行断言,具体是(?&lt;=p)和(?&lt;!p)</p></blockquote><ul><li><code>(?=p)</code>就与^一样好理解，就是p前面的那个位置</li></ul><h3 id="_2-3-位置的特性" tabindex="-1"><a class="header-anchor" href="#_2-3-位置的特性"><span>2.3 位置的特性</span></a></h3><ul><li>对于位置的理解，我们可以理解成空字符&quot;&quot;</li><li>比如&quot;hello&quot;字符串等价于如下的形式</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token string">&quot;hello&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;h&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;e&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;l&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;l&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;o&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>等价于</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token string">&quot;hello&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;hello&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>因此，把<code>/^hello$/</code>写成<code>/^^hello$$$/</code>，是没有任何问题的</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^^hello$$$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-相关案例" tabindex="-1"><a class="header-anchor" href="#_2-4-相关案例"><span>2.4 相关案例</span></a></h3><h4 id="_2-4-1-不匹配任何东西的正则" tabindex="-1"><a class="header-anchor" href="#_2-4-1-不匹配任何东西的正则"><span>2.4.1 不匹配任何东西的正则</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.^</span><span class="token regex-delimiter">/</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_2-4-2-数字的千位分隔符表示法" tabindex="-1"><a class="header-anchor" href="#_2-4-2-数字的千位分隔符表示法"><span>2.4.2 数字的千位分隔符表示法</span></a></h4><blockquote><p>比如把&quot;12345678&quot;，变成&quot;12,345,678&quot;</p></blockquote><p><strong>弄出最后一个逗号</strong></p><blockquote><p>使用<code>(?=\\d{3}$)</code>就可以做到</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;12345678&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=\\d{3}$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;12345,678&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>弄出所有的逗号</strong></p><blockquote><p>因为逗号出现的位置，要求后面3个数字一组，也就是<code>\\d{3}</code>至少出现一次</p></blockquote><ul><li>此时可以使用量词<code>+</code></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;12345678&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=(\\d{3})+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;12,345,678&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>匹配其余案例</strong></p><blockquote><p>写完正则后，要多验证几个案例，此时我们会发现问题</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;123456789&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=(\\d{3})+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;,123,456,789&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>因为上面的正则，仅仅表示把从结尾向前数，一但是3的倍数，就把其前面的位置替换成逗号。因此才会出现这个问题</li><li>我们知道匹配开头可以使用<code>^</code>，但要求这个位置不是开头怎么办</li><li><code>(?!^)</code>，你想到了吗？测试如下</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string1 <span class="token operator">=</span> <span class="token string">&quot;12345678&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    string2 <span class="token operator">=</span> <span class="token string">&quot;123456789&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!^)(?=(\\d{3})+$)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> string1<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;12,345,678&quot;</span></span>
<span class="line">    </span>
<span class="line">    result <span class="token operator">=</span> string2<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;123,456,789&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>支持其他形式</strong></p><blockquote><p>如果要把&quot;12345678 123456789&quot;替换成&quot;12,345,678 123,456,789&quot;。</p></blockquote><ul><li>此时我们需要修改正则，把里面的开头<code>^</code>和结尾<code>$</code>，替换成<code>\\b</code></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;12345678 123456789&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?!\\b)(?=(\\d{3})+\\b)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;12,345,678 123,456,789&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其中<code>(?!\\b)</code>怎么理解呢？</li><li>要求当前是一个位置，但不是\\b前面的位置，其实<code>(?!\\b)</code>说的就是<code>\\B</code></li><li>因此最终正则变成了：<code>/\\B(?=(\\d{3})+\\b)/g</code></li></ul><h4 id="_2-4-3-验证密码问题" tabindex="-1"><a class="header-anchor" href="#_2-4-3-验证密码问题"><span>2.4.3 验证密码问题</span></a></h4><ul><li>密码长度6-12位，由数字、小写字符和大写字母组成，但必须至少包括2种字符。</li><li>此题，如果写成多个正则来判断，比较容易。但要写成一个正则就比较困难。</li><li>那么，我们就来挑战一下。看看我们对位置的理解是否深刻</li></ul><p><strong>简化</strong></p><blockquote><p>不考虑“但必须至少包括2种字符”这一条件。我们可以容易写出</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^[0-9A-Za-z]{6,12}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>判断是否包含有某一种字符</strong></p><blockquote><p>假设，要求的必须包含数字，怎么办？此时我们可以使用(<code>?=.*[0-9]</code>)来做</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=.*[0-9])^[0-9A-Za-z]{6,12}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>同时包含具体两种字符</strong></p><ul><li>比如同时包含数字和小写字母，可以用(<code>?=.*[0-9])(?=.*[a-z]</code>)来做</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?=.*[0-9])(?=.*[a-z])^[0-9A-Za-z]{6,12}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>我们可以把原题变成下列几种情况之一</p></blockquote><ul><li>同时包含数字和小写字母</li><li>同时包含数字和大写字母</li><li>同时包含小写字母和大写字母</li><li>同时包含数字、小写字母和大写字母</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">((?=.*[0-9])(?=.*[a-z])|(?=.*[0-9])(?=.*[A-Z])|(?=.*[a-z])(?=.*[A-Z]))^[0-9A-Za-z]{6,12}$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;1234567&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false 全是数字</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;abcdef&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false 全是小写字母</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;ABCDEFGH&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false 全是大写字母</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;ab23C&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false 不足6位</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;ABCDEF234&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true 大写字母和数字</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;abcdEF234&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true 三者都有</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>解惑</strong></p><ul><li><code>/(?=.*[0-9])^[0-9A-Za-z]{6,12}$/</code> 对于这个正则，我们只需要弄明白<code>(?=.*[0-9])^</code>即可</li><li>分开来看就是(<code>?=.*[0-9]</code>)和<code>^</code></li><li>表示开头前面还有个位置</li><li>(<code>?=.*[0-9]</code>)表示该位置后面的字符匹配<code>.*[0-9]</code>，即，有任何多个任意字符，后面再跟个数字</li></ul><h2 id="第三章-正则表达式括号的作用" tabindex="-1"><a class="header-anchor" href="#第三章-正则表达式括号的作用"><span>第三章 正则表达式括号的作用</span></a></h2><ul><li>括号的作用，其实三言两语就能说明白，括号提供了分组，便于我们引用它。</li><li>引用某个分组，会有两种情形：在<code>JavaScript</code>里引用它，在正则表达式里引用它</li></ul><h3 id="_3-1-分组和分支结构" tabindex="-1"><a class="header-anchor" href="#_3-1-分组和分支结构"><span>3.1 分组和分支结构</span></a></h3><blockquote><p>这二者是括号最直觉的作用，也是最原始的功能</p></blockquote><h4 id="_3-1-1-分组" tabindex="-1"><a class="header-anchor" href="#_3-1-1-分组"><span>3.1.1 分组</span></a></h4><ul><li>我们知道<code>/a+/</code>匹配连续出现的“a”，而要匹配连续出现的“ab”时，需要使用<code>/(ab)+/</code></li><li>其中括号是提供分组功能，使量词<code>+</code>作用于“ab”这个整体，测试如下：</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(ab)+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;ababa abbb ababab&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;abab&quot;, &quot;ab&quot;, &quot;ababab&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-2-分支结构" tabindex="-1"><a class="header-anchor" href="#_3-1-2-分支结构"><span>3.1.2 分支结构</span></a></h4><blockquote><p>而在多选分支结构(<code>p1|p2</code>)中，此处括号的作用也是不言而喻的，提供了子表达式的所有可能</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token constant">I</span> love JavaScript</span>
<span class="line">    <span class="token constant">I</span> love Regular Expression</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^I love (JavaScript|Regular Expression)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;I love JavaScript&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;I love Regular Expression&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果去掉正则中的括号，即 <code>/^I love JavaScript|Regular Expression$/</code>，匹配字符串是&quot;<code>I love JavaScript&quot;和&quot;Regular Expression</code>&quot;，当然这不是我们想要的</li></ul><h3 id="_3-2-引用分组" tabindex="-1"><a class="header-anchor" href="#_3-2-引用分组"><span>3.2 引用分组</span></a></h3><ul><li>这是括号一个重要的作用，有了它，我们就可以进行数据提取，以及更强大的替换操作</li><li>而要使用它带来的好处，必须配合使用实现环境的API</li><li>以日期为例。假设格式是<code>yyyy-mm-dd</code>的，我们可以先写一个简单的正则</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d{4}-\\d{2}-\\d{2}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后再修改成括号版的：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{4})-(\\d{2})-(\\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>为什么要使用这个正则呢</p></blockquote><p><strong>提取数据</strong></p><blockquote><p>比如提取出年、月、日，可以这么做</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{4})-(\\d{2})-(\\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017-06-12&quot;, &quot;2017&quot;, &quot;06&quot;, &quot;12&quot;, index: 0, input: &quot;2017-06-12&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>match返回的一个数组，第一个元素是整体匹配结果，然后是各个分组（括号里）匹配的内容，然后是匹配下标，最后是输入的文本。（注意：如果正则是否有修饰符g，match返回的数组格式是不一样的）</p></blockquote><ul><li>另外也可以使用正则对象的<code>exec</code>方法</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{4})-(\\d{2})-(\\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017-06-12&quot;, &quot;2017&quot;, &quot;06&quot;, &quot;12&quot;, index: 0, input: &quot;2017-06-12&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>同时，也可以使用构造函数的全局属性<code>$1</code>至<code>$9</code>来获取</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{4})-(\\d{2})-(\\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 正则操作即可，例如</span></span>
<span class="line">    <span class="token comment">//regex.exec(string);</span></span>
<span class="line">    <span class="token comment">//string.match(regex);</span></span>
<span class="line">    </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;2017&quot;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;06&quot;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;12&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>替换</strong></p><blockquote><p>想把<code>yyyy-mm-dd</code>格式，替换成<code>mm/dd/yyyy</code>怎么做</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{4})-(\\d{2})-(\\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token string">&quot;$2/$3/$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;06/12/2017&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中replace中的，第二个参数里用<code>$1</code>、<code>$2</code>、<code>$3</code>指代相应的分组。等价于如下的形式：<code>var regex = /(\\d{4})-(\\d{2})-(\\d{2})/</code>;</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">return</span> RegExp<span class="token punctuation">.</span>$2 <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> RegExp<span class="token punctuation">.</span>$3 <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;06/12/2017&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>也等价于：</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{4})-(\\d{2})-(\\d{2})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">return</span> month <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> day <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> year<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;06/12/2017&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-反向引用" tabindex="-1"><a class="header-anchor" href="#_3-3-反向引用"><span>3.3 反向引用</span></a></h3><blockquote><p>除了使用相应<code>API</code>来引用分组，也可以在正则本身里引用分组。但只能引用之前出现的分组，即反向引用。</p></blockquote><p>比如要写一个正则支持匹配如下三种格式</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token number">2016</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">12</span></span>
<span class="line">    <span class="token number">2016</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">12</span></span>
<span class="line">    <span class="token number">2016.06</span><span class="token number">.12</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最先可能想到的正则是:</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d{4}(-|\\/|\\.)\\d{2}(-|\\/|\\.)\\d{2}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string1 <span class="token operator">=</span> <span class="token string">&quot;2017-06-12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string2 <span class="token operator">=</span> <span class="token string">&quot;2017/06/12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string3 <span class="token operator">=</span> <span class="token string">&quot;2017.06.12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string4 <span class="token operator">=</span> <span class="token string">&quot;2016-06/12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string1<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string2<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string3<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string4<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中/和.需要转义。虽然匹配了要求的情况，但也匹配&quot;2016-06/12&quot;这样的数据</p></blockquote><ul><li>假设我们想要求分割符前后一致怎么办？此时需要使用反向引用</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d{4}(-|\\/|\\.)\\d{2}\\1\\d{2}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string1 <span class="token operator">=</span> <span class="token string">&quot;2017-06-12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string2 <span class="token operator">=</span> <span class="token string">&quot;2017/06/12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string3 <span class="token operator">=</span> <span class="token string">&quot;2017.06.12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string4 <span class="token operator">=</span> <span class="token string">&quot;2016-06/12&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string1<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string2<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string3<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string4<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>注意里面的<code>\\1</code>，表示的引用之前的那个分组<code>(-|\\/|\\.)</code>。不管它匹配到什么（比如<code>-</code>），<code>\\1</code>都匹配那个同样的具体某个字符</li><li>我们知道了<code>\\1</code>的含义后，那么<code>\\2</code>和<code>\\3</code>的概念也就理解了，即分别指代第二个和第三个分组</li></ul><blockquote><p>看到这里，此时，恐怕你会有三个问题</p></blockquote><p><strong>括号嵌套怎么办？</strong></p><blockquote><p>以左括号（开括号）为准。比如：</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^((\\d)(\\d(\\d)))\\1\\2\\3\\4$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;1231231233&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> RegExp<span class="token punctuation">.</span>$1 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> RegExp<span class="token punctuation">.</span>$2 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> RegExp<span class="token punctuation">.</span>$3 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 23</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> RegExp<span class="token punctuation">.</span>$4 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>我们可以看看这个正则匹配模式：</p></blockquote><ul><li>第一个字符是数字，比如说1，</li><li>第二个字符是数字，比如说2，</li><li>第三个字符是数字，比如说3，</li><li>接下来的是\\1，是第一个分组内容，那么看第一个开括号对应的分组是什么，是123，</li><li>接下来的是\\2，找到第2个开括号，对应的分组，匹配的内容是1，</li><li>接下来的是\\3，找到第3个开括号，对应的分组，匹配的内容是23，</li><li>最后的是\\4，找到第3个开括号，对应的分组，匹配的内容是3。</li></ul><p><strong>引用不存在的分组会怎样？</strong></p><blockquote><p>因为反向引用，是引用前面的分组，但我们在正则里引用了不存在的分组时，此时正则不会报错，只是匹配反向引用的字符本身。例如\\2，就匹配&quot;\\2&quot;。注意&quot;\\2&quot;表示对&quot;2&quot;进行了转意</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\1\\2\\3\\4\\5\\6\\7\\8\\9</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;\\1\\2\\3\\4\\5\\6\\7\\8\\9&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;\\1\\2\\3\\4\\5\\6\\7\\8\\9&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-非捕获分组" tabindex="-1"><a class="header-anchor" href="#_3-4-非捕获分组"><span>3.4 非捕获分组</span></a></h3><ul><li>之前文中出现的分组，都会捕获它们匹配到的数据，以便后续引用，因此也称他们是捕获型分组</li><li>如果只想要括号最原始的功能，但不会引用它，即，既不在API里引用，也不在正则里反向引用。此时可以使用非捕获分组(<code>?:p</code>)，例如本文第一个例子可以修改为：</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?:ab)+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;ababa abbb ababab&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; [&quot;abab&quot;, &quot;ab&quot;, &quot;ababab&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5-相关案例" tabindex="-1"><a class="header-anchor" href="#_3-5-相关案例"><span>3.5 相关案例</span></a></h3><blockquote><p>至此括号的作用已经讲完了，总结一句话，就是提供了可供我们使用的分组，如何用就看我们的了</p></blockquote><h4 id="_3-5-1-字符串trim方法模拟" tabindex="-1"><a class="header-anchor" href="#_3-5-1-字符串trim方法模拟"><span>3.5.1 字符串trim方法模拟</span></a></h4><blockquote><p>trim方法是去掉字符串的开头和结尾的空白符。有两种思路去做</p></blockquote><ul><li>第一种，匹配到开头和结尾的空白符，然后替换成空字符。如</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">function</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\s+|\\s+$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token string">&quot;  foobar   &quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;foobar&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>第二种，匹配整个字符串，然后用引用来提取出相应的数据</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">function</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\\s*(.*?)\\s*$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token string">&quot;  foobar   &quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;foobar&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>这里使用了惰性匹配<code>*?</code>，不然也会匹配最后一个空格之前的所有空格的</p></blockquote><h4 id="_3-5-2-将每个单词的首字母转换为大写" tabindex="-1"><a class="header-anchor" href="#_3-5-2-将每个单词的首字母转换为大写"><span>3.5.2 将每个单词的首字母转换为大写</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">function</span> <span class="token function">titleize</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(?:^|\\s)\\w</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    		<span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">titleize</span><span class="token punctuation">(</span><span class="token string">&#39;my name is epeli&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;My Name Is Epeli&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>思路是找到每个单词的首字母，当然这里不使用非捕获匹配也是可以的。</p></blockquote><h4 id="_3-5-3-驼峰化" tabindex="-1"><a class="header-anchor" href="#_3-5-3-驼峰化"><span>3.5.3 驼峰化</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">function</span> <span class="token function">camelize</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[-_\\s]+(.)?</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    		<span class="token keyword">return</span> c <span class="token operator">?</span> c<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">camelize</span><span class="token punctuation">(</span><span class="token string">&#39;-moz-transform&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;MozTransform&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中分组<code>(.)</code>表示首字母。单词的界定是，前面的字符可以是多个连字符、下划线以及空白符。正则后面的?的目的，是为了应对<code>str</code>尾部的字符可能不是单词字符，比如str是&#39;<code>-moz- transform &#39;</code></p></blockquote><h4 id="_3-5-4-中划线化" tabindex="-1"><a class="header-anchor" href="#_3-5-4-中划线化"><span>3.5.4 中划线化</span></a></h4><blockquote><p>驼峰化的逆过程</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">function</span> <span class="token function">dasherize</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([A-Z])</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;-$1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[-_\\s]+</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;-&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">dasherize</span><span class="token punctuation">(</span><span class="token string">&#39;MozTransform&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; &quot;-moz-transform&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5-5-html转义和反转义" tabindex="-1"><a class="header-anchor" href="#_3-5-5-html转义和反转义"><span>3.5.5 html转义和反转义</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token comment">// 将HTML特殊字符转换成等值的实体</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">escapeHTML</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">var</span> escapeChars <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    	  <span class="token string-property property">&#39;¢&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;cent&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;£&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;pound&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;¥&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;yen&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;€&#39;</span><span class="token operator">:</span> <span class="token string">&#39;euro&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;©&#39;</span> <span class="token operator">:</span><span class="token string">&#39;copy&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;®&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;reg&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;&lt;&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;lt&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;&gt;&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;gt&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;&quot;&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;quot&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;&amp;&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;amp&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token string-property property">&#39;\\&#39;&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;#39&#39;</span></span>
<span class="line">    	<span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    	<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">&#39;[&#39;</span> <span class="token operator">+</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>escapeChars<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">&#39;]&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;g&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    		<span class="token keyword">return</span> <span class="token string">&#39;&amp;&#39;</span> <span class="token operator">+</span> escapeChars<span class="token punctuation">[</span>match<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&#39;;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">escapeHTML</span><span class="token punctuation">(</span><span class="token string">&#39;&lt;div&gt;Blah blah blah&lt;/div&gt;&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; &quot;&amp;lt;div&amp;gt;Blah blah blah&amp;lt;/div&amp;gt&quot;;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中使用了用构造函数生成的正则，然后替换相应的格式就行了</p></blockquote><ul><li>倒是它的逆过程，使用了括号，以便提供引用，也很简单</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token comment">// 实体字符转换为等值的HTML。</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">unescapeHTML</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	<span class="token keyword">var</span> htmlEntities <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    	  <span class="token literal-property property">nbsp</span><span class="token operator">:</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">cent</span><span class="token operator">:</span> <span class="token string">&#39;¢&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">pound</span><span class="token operator">:</span> <span class="token string">&#39;£&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">yen</span><span class="token operator">:</span> <span class="token string">&#39;¥&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">euro</span><span class="token operator">:</span> <span class="token string">&#39;€&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">copy</span><span class="token operator">:</span> <span class="token string">&#39;©&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">reg</span><span class="token operator">:</span> <span class="token string">&#39;®&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">lt</span><span class="token operator">:</span> <span class="token string">&#39;&lt;&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">gt</span><span class="token operator">:</span> <span class="token string">&#39;&gt;&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">quot</span><span class="token operator">:</span> <span class="token string">&#39;&quot;&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">amp</span><span class="token operator">:</span> <span class="token string">&#39;&amp;&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    	  <span class="token literal-property property">apos</span><span class="token operator">:</span> <span class="token string">&#39;\\&#39;&#39;</span></span>
<span class="line">    	<span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">    	<span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\&amp;([^;]+);</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    		<span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> htmlEntities<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    			<span class="token keyword">return</span> htmlEntities<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    		<span class="token punctuation">}</span></span>
<span class="line">    		<span class="token keyword">return</span> match<span class="token punctuation">;</span></span>
<span class="line">    	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">unescapeHTML</span><span class="token punctuation">(</span><span class="token string">&#39;&amp;lt;div&amp;gt;Blah blah blah&amp;lt;/div&amp;gt;&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; &quot;&lt;div&gt;Blah blah blah&lt;/div&gt;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>通过key获取相应的分组引用，然后作为对象的键</p></blockquote><h4 id="_3-5-6-匹配成对标签" tabindex="-1"><a class="header-anchor" href="#_3-5-6-匹配成对标签"><span>3.5.6 匹配成对标签</span></a></h4><p>要求匹配</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>regular expression<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>laoyao bye bye<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>不匹配</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>wrong<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>匹配一个开标签，可以使用正则<code>&lt;[^&gt;]+&gt;</code>，</li><li>匹配一个闭标签，可以使用<code>&lt;\\/[^&gt;]+&gt;</code></li></ul><blockquote><p>但是要求匹配成对标签，那就需要使用反向引用，如：</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;([^&gt;]+)&gt;[\\d\\D]*&lt;\\/\\1&gt;</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string1 <span class="token operator">=</span> <span class="token string">&quot;&lt;title&gt;regular expression&lt;/title&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string2 <span class="token operator">=</span> <span class="token string">&quot;&lt;p&gt;laoyao bye bye&lt;/p&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string3 <span class="token operator">=</span> <span class="token string">&quot;&lt;title&gt;wrong!&lt;/p&gt;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string1<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string2<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string3<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其中开标签<code>&lt;[^&gt;]+&gt;</code>改成<code>&lt;([^&gt;]+)&gt;</code>，使用括号的目的是为了后面使用反向引用，而提供分组。</li><li>闭标签使用了反向引用<code>，&lt;\\/\\1&gt;</code></li><li>另外<code>[\\d\\D]</code>的意思是，这个字符是数字或者不是数字，因此，也就是匹配任意字符的意思</li></ul><h2 id="第四章-正则表达式回溯法原理" tabindex="-1"><a class="header-anchor" href="#第四章-正则表达式回溯法原理"><span>第四章 正则表达式回溯法原理</span></a></h2><h3 id="_4-1-没有回溯的匹配" tabindex="-1"><a class="header-anchor" href="#_4-1-没有回溯的匹配"><span>4.1 没有回溯的匹配</span></a></h3><blockquote><p>假设我们的正则是<code>/ab{1,3}c/</code>，其可视化形式是</p></blockquote><p><img src="`+p+'" alt=""></p><blockquote><p>而当目标字符串是&quot;abbbc&quot;时，就没有所谓的“回溯”。其匹配过程是：</p></blockquote><p><img src="'+o+'" alt=""></p><blockquote><p>其中子表达式<code>b{1,3}</code>表示“b”字符连续出现1到3次</p></blockquote><h3 id="_4-2-有回溯的匹配" tabindex="-1"><a class="header-anchor" href="#_4-2-有回溯的匹配"><span>4.2 有回溯的匹配</span></a></h3><blockquote><p>如果目标字符串是&quot;abbc&quot;，中间就有回溯</p></blockquote><p><img src="'+l+'" alt=""></p><blockquote><p>图中第5步有红颜色，表示匹配不成功。此时<code>b{1,3}</code>已经匹配到了2个字符“b”，准备尝试第三个时，结果发现接下来的字符是“c”。那么就认为<code>b{1,3}</code>就已经匹配完毕。然后状态又回到之前的状态（即第6步，与第4步一样），最后再用子表达式c，去匹配字符“c”。当然，此时整个表达式匹配成功了</p></blockquote><ul><li>图中的第6步，就是“回溯”</li></ul><blockquote><p>你可能对此没有感觉，这里我们再举一个例子。正则是</p></blockquote><p><img src="'+c+'" alt=""></p><ul><li>目标字符串是：<code>&quot;acd&quot;ef</code>，匹配过程是</li></ul><p><img src="'+i+`" alt=""></p><ul><li>图中省略了尝试匹配双引号失败的过程。可以看出.*是非常影响效率的。</li><li>为了减少一些不必要的回溯，可以把正则修改为<code>/&quot;[^&quot;]*&quot;/</code></li></ul><h3 id="_4-3-常见的回溯形式" tabindex="-1"><a class="header-anchor" href="#_4-3-常见的回溯形式"><span>4.3 常见的回溯形式</span></a></h3><blockquote><p>正则表达式匹配字符串的这种方式，有个学名，叫回溯法</p></blockquote><ul><li>回溯法也称试探法，它的基本思想是：从问题的某一种状态（初始状态）出发，搜索从这种状态出发所能达到的所有“状态”，当一条路走到“尽头”的时候（不能再前进），再后退一步或若干步，从另一种可能“状态”出发，继续搜索，直到所有的“路径”（状态）都试探过。这种不断“前进”、不断“回溯”寻找解的方法，就称作“回溯法”</li><li>本质上就是深度优先搜索算法。其中退到之前的某一步这一过程，我们称为“回溯”。从上面的描述过程中，可以看出，路走不通时，就会发生“回溯”。即，尝试匹配失败时，接下来的一步通常就是回溯</li></ul><blockquote><p>那么JS中正则表达式会产生回溯的地方都有哪些呢</p></blockquote><p><strong>贪婪量词</strong></p><blockquote><p>之前的例子都是贪婪量词相关的。比如<code>b{1,3}</code>，因为其是贪婪的，尝试可能的顺序是从多往少的方向去尝试。首先会尝试&quot;bbb&quot;，然后再看整个正则是否能匹配。不能匹配时，吐出一个&quot;b&quot;，即在&quot;bb&quot;的基础上，再继续尝试。如果还不行，再吐出一个，再试。如果还不行呢？只能说明匹配失败了。</p></blockquote><ul><li>虽然局部匹配是贪婪的，但也要满足整体能正确匹配</li><li>如果当多个贪婪量词挨着存在，并相互有冲突时，此时会是怎样？</li><li>答案是，先下手为强！因为深度优先搜索。测试如下：</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;12345&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{1,3})(\\d{1,3})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;12345&quot;, &quot;123&quot;, &quot;45&quot;, index: 0, input: &quot;12345&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中，前面的<code>\\d{1,3}</code>匹配的是&quot;123&quot;，后面的<code>\\d{1,3}</code>匹配的是&quot;45&quot;</p></blockquote><p><strong>惰性量词</strong></p><blockquote><p>惰性量词就是在贪婪量词后面加个问号。表示尽可能少的匹配，比如</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;12345&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d{1,3}?)(\\d{1,3})</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;1234&quot;, &quot;1&quot;, &quot;234&quot;, index: 0, input: &quot;12345&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其中<code>\\d{1,3}?</code>只匹配到一个字符&quot;1&quot;，而后面的<code>\\d{1,3}</code>匹配了&quot;234&quot;</li><li>虽然惰性量词不贪，但也会有回溯的现象。比如正则是：</li></ul><p><img src="`+u+'" alt=""></p><blockquote><p>目标字符串是&quot;12345&quot;，匹配过程是</p></blockquote><p><img src="'+r+'" alt=""></p><blockquote><p>知道你不贪、很知足，但是为了整体匹配成，没办法，也只能给你多塞点了。因此最后<code>\\d{1,3}?</code>匹配的字符是&quot;12&quot;，是两个数字，而不是一个</p></blockquote><p><strong>分支结构</strong></p><blockquote><p>我们知道分支也是惰性的，比如<code>/can|candy/</code>，去匹配字符串&quot;candy&quot;，得到的结果是&quot;can&quot;，因为分支会一个一个尝试，如果前面的满足了，后面就不会再试验了。分支结构，可能前面的子模式会形成了局部匹配，如果接下来表达式整体不匹配时，仍会继续尝试剩下的分支。这种尝试也可以看成一种回溯</p></blockquote><p><img src="'+d+'" alt=""></p><p>目标字符串是&quot;candy&quot;，匹配过程</p><p><img src="'+k+`" alt=""></p><p><strong>小结</strong></p><blockquote><p>简单总结就是，正因为有多种可能，所以要一个一个试。直到，要么到某一步时，整体匹配成功了；要么最后都试完后，发现整体匹配不成功</p></blockquote><ul><li>贪婪量词“试”的策略是：买衣服砍价。价钱太高了，便宜点，不行，再便宜点。</li><li>惰性量词“试”的策略是：卖东西加价。给少了，再多给点行不，还有点少啊，再给点</li><li>分支结构“试”的策略是：货比三家。这家不行，换一家吧，还不行，再换</li></ul><h2 id="第五章-正则表达式的拆分" tabindex="-1"><a class="header-anchor" href="#第五章-正则表达式的拆分"><span>第五章 正则表达式的拆分</span></a></h2><h3 id="_5-1-结构和操作符" tabindex="-1"><a class="header-anchor" href="#_5-1-结构和操作符"><span>5.1 结构和操作符</span></a></h3><blockquote><p>而在正则表达式中，操作符都体现在结构中，即由特殊字符和普通字符所代表的一个个特殊整体。</p></blockquote><p><strong>JS正则表达式中，都有哪些结构呢？</strong></p><ul><li>字符字面量、字符组、量词、锚字符、分组、选择分支、反向引用</li></ul><p><strong>具体含义简要回顾如下</strong></p><ul><li><strong>字面量</strong> ，匹配一个具体字符，包括不用转义的和需要转义的。比如a匹配字符&quot;a&quot;，又比如<code>\\n</code>匹配换行符，又比如<code>\\.</code>匹配小数点。</li><li><strong>字符组</strong> ，匹配一个字符，可以是多种可能之一，比如<code>[0-9]</code>，表示匹配一个数字。也有<code>\\d</code>的简写形式。另外还有反义字符组，表示可以是除了特定字符之外任何一个字符，比如<code>[^0-9]</code>，表示一个非数字字符，也有<code>\\D</code>的简写形式。</li><li><strong>量词</strong> ，表示一个字符连续出现，比如<code>a{1,3}</code>表示“a”字符连续出现3次。另外还有常见的简写形式，比如<code>a+</code>表示“a”字符连续出现至少一次。</li><li><strong>锚点</strong> ，匹配一个位置，而不是字符。比如^匹配字符串的开头，又比如\\b匹配单词边界，又比如<code>(?=\\d)</code>表示数字前面的位置。</li><li><strong>分组</strong> ，用括号表示一个整体，比如<code>(ab)+</code>，表示&quot;ab&quot;两个字符连续出现多次，也可以使用非捕获分组<code>(?:ab)+</code>。</li><li><strong>分支</strong> ，多个子表达式多选一，比如<code>abc|bcd</code>，表达式匹配&quot;abc&quot;或者&quot;bcd&quot;字符子串。</li><li><strong>反向引用</strong> ，比如<code>\\2</code>，表示引用第<code>2</code>个分组</li></ul><p><strong>其中涉及到的操作符有</strong></p><ul><li>转义符 <code>\\</code></li><li>括号和方括号<code>(...)、(?:...)、(?=...)、(?!...)、[...]</code></li><li>量词限定符 <code>{m}</code>、<code>{m,n}</code>、<code>{m,}</code>、<code>?</code>、<code>*</code>、<code>+</code></li><li>位置和序列 <code>^</code> 、<code>$</code>、 <code>\\元字符</code>、 一般字符</li><li>管道符（竖杠）<code>|</code></li></ul><p><strong>上面操作符的优先级从上至下，由高到低</strong></p><p>这里，我们来分析一个正则</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">ab?(c|de*)+|fg</span><span class="token regex-delimiter">/</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>由于括号的存在，所以，<code>(c|de*)</code>是一个整体结构</li><li>在<code>(c|de*)</code>中，注意其中的量词*，因此e*是一个整体结构</li><li>又因为分支结构<code>“|”</code>优先级最低，因此c是一个整体、而<code>de*</code>是另一个整体</li><li>同理，整个正则分成了 <code>a、b?、(...)+、f、g</code>。而由于分支的原因，又可以分成<code>ab?(c|de*)+</code>和<code>fg</code>这两部分</li></ul><p><img src="`+g+`" alt=""></p><h3 id="_5-2-注意要点" tabindex="-1"><a class="header-anchor" href="#_5-2-注意要点"><span>5.2 注意要点</span></a></h3><p><strong>匹配字符串整体问题</strong></p><ul><li>因为是要匹配整个字符串，我们经常会在正则前后中加上锚字符^和$</li><li>比如要匹配目标字符串<code>&quot;abc&quot;</code>或者<code>&quot;bcd&quot;</code>时，如果一不小心，就会写成<code>/^abc|bcd$/</code></li></ul><p><strong>量词连缀问题</strong></p><p>假设，要匹配这样的字符串</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    每个字符为a、b、c任选其一</span>
<span class="line">    字符串的长度是<span class="token number">3</span>的倍数</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>此时正则不能想当然地写成<code>/^[abc]{3}+$/</code>，这样会报错，说<code>+</code>前面没什么可重复的</li><li>此时要修改成 <code>/([abc]{3})/</code></li></ul><p><strong>元字符转义问题</strong></p><ul><li>所谓元字符，就是正则中有特殊含义的字符</li><li>所有结构里，用到的元字符总结如下</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token operator">^</span> $ <span class="token punctuation">.</span> <span class="token operator">*</span> <span class="token operator">+</span> <span class="token operator">?</span> <span class="token operator">|</span> \\ <span class="token operator">/</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token operator">!</span> <span class="token operator">:</span> <span class="token operator">-</span> <span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>当匹配上面的字符本身时，可以一律转义</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;^$.*+?|\\\\/[]{}=!:-,&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\^\\$\\.\\*\\+\\?\\|\\\\\\/\\[\\]\\{\\}\\=\\!\\:\\-\\,</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其中string中的\\字符也要转义的</li><li>另外，在string中，也可以把每个字符转义，当然，转义后的结果仍是本身</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;^$.*+?|\\\\/[]{}=!:-,&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string2 <span class="token operator">=</span> <span class="token string">&quot;\\^\\$\\.\\*\\+\\?\\|\\\\\\/\\[\\]\\{\\}\\=\\!\\:\\-\\,&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string <span class="token operator">==</span> string2 <span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>字符组中的元字符</strong></p><blockquote><p>跟字符组相关的元字符有<code>[]</code>、<code>^</code>、<code>-</code>。因此在会引起歧义的地方进行转义。例如开头的<code>^</code>必须转义，不然会把整个字符组，看成反义字符组</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;^$.*+?|\\\\/[]{}=!:-,&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\^$.*+?|\\\\/\\[\\]{}=!:\\-,]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;^&quot;, &quot;$&quot;, &quot;.&quot;, &quot;*&quot;, &quot;+&quot;, &quot;?&quot;, &quot;|&quot;, &quot;\\&quot;, &quot;/&quot;, &quot;[&quot;, &quot;]&quot;, &quot;{&quot;, &quot;}&quot;, &quot;=&quot;, &quot;!&quot;, &quot;:&quot;, &quot;-&quot;, &quot;,&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-案例分析" tabindex="-1"><a class="header-anchor" href="#_5-3-案例分析"><span>5.3 案例分析</span></a></h3><p><strong>身份证</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(\\d{15}|\\d{17}[\\dxX])$</span><span class="token regex-delimiter">/</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><p>因为竖杠“<code>|</code>”,的优先级最低，所以正则分成了两部分<code>\\d{15}</code>和<code>\\d{17}[\\dxX]</code></p></blockquote><ul><li><code>\\d{15}</code>表示<code>15</code>位连续数字</li><li><code>\\d{17}[\\dxX]</code>表示<code>17</code>位连续数字，最后一位可以是数字可以大小写字母<code>&quot;x&quot;</code></li></ul><p>** IPV4地址**</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^((0{0,2}\\d|0?\\d{2}|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(0{0,2}\\d|0?\\d{2}|1\\d{2}|2[0-4]\\d|25[0-5])$</span><span class="token regex-delimiter">/</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>得出如下的结构：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span>\\<span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>上面的两个(...)是一样的结构。表示匹配的是3位数字。因此整个结构是</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token number">3</span>位数<span class="token number">.3</span>位数<span class="token number">.3</span>位数<span class="token number">.3</span>位数</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后再来分析(...)</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span>\\d<span class="token operator">|</span><span class="token number">0</span><span class="token operator">?</span>\\d<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">|</span><span class="token number">1</span>\\d<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>\\d<span class="token operator">|</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">}</span>\\d<span class="token operator">|</span><span class="token number">0</span><span class="token operator">?</span>\\d<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">|</span><span class="token number">1</span>\\d<span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">|</span><span class="token number">2</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>\\d<span class="token operator">|</span><span class="token number">25</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>它是一个多选结构，分成5个部分</strong></p><ul><li><code>0{0,2}\\d</code>，匹配一位数，包括0补齐的。比如，9、09、009；</li><li><code>0?\\d{2}</code>，匹配两位数，包括0补齐的，也包括一位数；</li><li><code>1\\d{2}</code>，匹配<code>100</code>到<code>199</code>;</li><li><code>2[0-4]\\d</code>，匹配<code>200-249</code>；</li><li><code>25[0-5]</code>，匹配<code>250-255</code>。</li></ul><h2 id="第六章-正则表达式编程" tabindex="-1"><a class="header-anchor" href="#第六章-正则表达式编程"><span>第六章 正则表达式编程</span></a></h2><h3 id="_6-1-正则表达式的四种操作" tabindex="-1"><a class="header-anchor" href="#_6-1-正则表达式的四种操作"><span>6.1 正则表达式的四种操作</span></a></h3><h4 id="_6-1-1-验证" tabindex="-1"><a class="header-anchor" href="#_6-1-1-验证"><span>6.1.1 验证</span></a></h4><ul><li>验证是正则表达式最直接的应用，比如表单验证</li><li>在说验证之前，先要说清楚匹配是什么概念</li><li>所谓匹配，就是看目标字符串里是否有满足匹配的子串。因此，“匹配”的本质就是“查找”</li></ul><blockquote><p>比如，判断一个字符串中是否有数字</p></blockquote><p><strong>使用search</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;abc123&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token operator">~</span>string<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用test</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;abc123&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用match</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;abc123&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token operator">!</span>string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用exec</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\d</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;abc123&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token operator">!</span>regex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中，最常用的是test</p></blockquote><h4 id="_6-1-2-切分" tabindex="-1"><a class="header-anchor" href="#_6-1-2-切分"><span>6.1.2 切分</span></a></h4><ul><li>匹配上了，我们就可以进行一些操作，比如切分</li><li>所谓“切分”，就是把目标字符串，切成一段一段的。在JS中使用的是split</li><li>比如，目标字符串是&quot;html,css,javascript&quot;，按逗号来切分</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">,</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;html,css,javascript&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;html&quot;, &quot;css&quot;, &quot;javascript&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>又比如，如下的日期格式</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token number">2017</span><span class="token operator">/</span><span class="token number">06</span><span class="token operator">/</span><span class="token number">26</span></span>
<span class="line">    <span class="token number">2017.06</span><span class="token number">.26</span></span>
<span class="line">    <span class="token number">2017</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">26</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以使用<code>split</code>“切出”年月日</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\D</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;2017/06/26&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;2017.06.26&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;2017-06-26&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;26&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;26&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;26&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-1-3-提取" tabindex="-1"><a class="header-anchor" href="#_6-1-3-提取"><span>6.1.3 提取</span></a></h4><ul><li>虽然整体匹配上了，但有时需要提取部分匹配的数据</li><li>此时正则通常要使用分组引用（分组捕获）功能，还需要配合使用相关API。</li></ul><blockquote><p>这里，还是以日期为例，提取出年月日。注意下面正则中的括号</p></blockquote><p><strong>match</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(\\d{4})\\D(\\d{2})\\D(\\d{2})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-26&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt;[&quot;2017-06-26&quot;, &quot;2017&quot;, &quot;06&quot;, &quot;26&quot;, index: 0, input: &quot;2017-06-26&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>exec</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(\\d{4})\\D(\\d{2})\\D(\\d{2})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-26&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt;[&quot;2017-06-26&quot;, &quot;2017&quot;, &quot;06&quot;, &quot;26&quot;, index: 0, input: &quot;2017-06-26&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>test</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(\\d{4})\\D(\\d{2})\\D(\\d{2})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-26&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    regex<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">,</span> RegExp<span class="token punctuation">.</span>$2<span class="token punctuation">,</span> RegExp<span class="token punctuation">.</span>$3 <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; &quot;2017&quot; &quot;06&quot; &quot;26&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>search</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(\\d{4})\\D(\\d{2})\\D(\\d{2})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-26&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    string<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> RegExp<span class="token punctuation">.</span>$1<span class="token punctuation">,</span> RegExp<span class="token punctuation">.</span>$2<span class="token punctuation">,</span> RegExp<span class="token punctuation">.</span>$3 <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; &quot;2017&quot; &quot;06&quot; &quot;26&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>replace</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(\\d{4})\\D(\\d{2})\\D(\\d{2})$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-26&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regex<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	date<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;26&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>其中，最常用的是<code>match</code></p></blockquote><h4 id="_6-1-4-替换" tabindex="-1"><a class="header-anchor" href="#_6-1-4-替换"><span>6.1.4 替换</span></a></h4><blockquote><p>找，往往不是目的，通常下一步是为了替换。在JS中，使用replace进行替换</p></blockquote><p>比如把日期格式，从<code>yyyy-mm-dd</code>替换成<code>yyyy/mm/dd</code>：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017-06-26&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">-</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> today <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; Mon Jun 26 2017 00:00:00 GMT+0800 (中国标准时间)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-相关api注意要点" tabindex="-1"><a class="header-anchor" href="#_6-2-相关api注意要点"><span>6.2 相关API注意要点</span></a></h3><blockquote><p>从上面可以看出用于正则操作的方法，共有6个，字符串实例4个，正则实例2个</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    String#search</span>
<span class="line">    </span>
<span class="line">    String#split</span>
<span class="line">    </span>
<span class="line">    String#match</span>
<span class="line">    </span>
<span class="line">    String#replace</span>
<span class="line">    </span>
<span class="line">    RegExp#test</span>
<span class="line">    </span>
<span class="line">    RegExp#exec</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>search和match的参数问题</strong></p><ul><li>我们知道字符串实例的那4个方法参数都支持正则和字符串</li><li>但<code>search</code>和<code>match</code>，会把字符串转换为正则的</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017.06.27&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; 0</span></span>
<span class="line">    <span class="token comment">//需要修改成下列形式之一</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token string">&quot;\\\\.&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; 4</span></span>
<span class="line">    <span class="token comment">// =&gt; 4</span></span>
<span class="line">    </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2&quot;, index: 0, input: &quot;2017.06.27&quot;]</span></span>
<span class="line">    <span class="token comment">//需要修改成下列形式之一</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">&quot;\\\\.&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;.&quot;, index: 4, input: &quot;2017.06.27&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;.&quot;, index: 4, input: &quot;2017.06.27&quot;]</span></span>
<span class="line">    </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;27&quot;]</span></span>
<span class="line">    </span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; &quot;2017/06.27&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>match返回结果的格式问题</strong></p><blockquote><p>match返回结果的格式，与正则对象是否有修饰符g有关</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017.06.27&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> regex1 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\b(\\d+)\\b</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\b(\\d+)\\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex1<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex2<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017&quot;, &quot;2017&quot;, index: 0, input: &quot;2017.06.27&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;27&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>没有g，返回的是标准匹配格式，即，数组的第一个元素是整体匹配的内容，接下来是分组捕获的内容，然后是整体匹配的第一个下标，最后是输入的目标字符串。</li><li>有g，返回的是所有匹配的内容。</li><li>当没有匹配时，不管有无g，都返回<code>null</code></li></ul><p><strong>exec比match更强大</strong></p><blockquote><p>当正则没有<code>g</code>时，使用<code>match</code>返回的信息比较多。但是有<code>g</code>后，就没有关键的信息<code>index</code>了</p></blockquote><ul><li>而<code>exec</code>方法就能解决这个问题，它能接着上一次匹配后继续匹配</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;2017.06.27&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">var</span> regex2 <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\b(\\d+)\\b</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex2<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex2<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex2<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex2<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> regex2<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2017&quot;, &quot;2017&quot;, index: 0, input: &quot;2017.06.27&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; 4</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;06&quot;, &quot;06&quot;, index: 5, input: &quot;2017.06.27&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; 7</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;27&quot;, &quot;27&quot;, index: 8, input: &quot;2017.06.27&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; 10</span></span>
<span class="line">    <span class="token comment">// =&gt; null</span></span>
<span class="line">    <span class="token comment">// =&gt; 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>test整体匹配时需要使用^和$</strong></p><p>这个相对容易理解，因为test是看目标字符串中是否有子串匹配正则，即有部分匹配即可</p><ul><li>如果，要整体匹配，正则前后需要添加开头和结尾</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">123</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;a123b&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^123$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;a123b&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; false</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^123$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>split相关注意事项</strong></p><ul><li>split方法看起来不起眼，但要注意的地方有两个的</li></ul><p><strong>第一，它可以有第二个参数，表示结果数组的最大长度</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;html,css,javascript&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">,</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt;[&quot;html&quot;, &quot;css&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>第二，正则使用分组时，结果数组中是包含分隔符的</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&quot;html,css,javascript&quot;</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> string<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(,)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt;[&quot;html&quot;, &quot;,&quot;, &quot;css&quot;, &quot;,&quot;, &quot;javascript&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>replace是很强大的</strong></p><blockquote><p>总体来说replace有两种使用形式，这是因为它的第二个参数，可以是字符串，也可以是函数</p></blockquote><p>当第二个参数是字符串时，如下的字符有特殊的含义</p><ul><li><code>$1</code>,<code>$2,...,$99</code> 匹配第<code>1~99</code>个分组里捕获的文本</li><li><code>$&amp;</code> 匹配到的子串文本</li><li>\`$\`\` 匹配到的子串的左边文本</li><li><code>$&#39;</code> 匹配到的子串的右边文本</li><li><code>$$</code> 美元符号</li></ul><p>例如，把&quot;2,3,5&quot;，变成&quot;5=2+3&quot;：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;2,3,5&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d+),(\\d+),(\\d+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&quot;$3=$1+$2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; &quot;5=2+3&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当第二个参数是函数时，我们需要注意该回调函数的参数具体是什么</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line">    <span class="token string">&quot;1234 2345 3456&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(\\d)\\d{2}(\\d)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">match<span class="token punctuation">,</span> $1<span class="token punctuation">,</span> $2<span class="token punctuation">,</span> index<span class="token punctuation">,</span> input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>match<span class="token punctuation">,</span> $1<span class="token punctuation">,</span> $2<span class="token punctuation">,</span> index<span class="token punctuation">,</span> input<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;1234&quot;, &quot;1&quot;, &quot;4&quot;, 0, &quot;1234 2345 3456&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;2345&quot;, &quot;2&quot;, &quot;5&quot;, 5, &quot;1234 2345 3456&quot;]</span></span>
<span class="line">    <span class="token comment">// =&gt; [&quot;3456&quot;, &quot;3&quot;, &quot;6&quot;, 10, &quot;1234 2345 3456&quot;]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>此时我们可以看到<code>replace</code>拿到的信息，并不比<code>exec</code>少</p></blockquote><p><strong>修饰符</strong></p><ul><li><code>g</code> 全局匹配，即找到所有匹配的，单词是global</li><li><code>i</code> 忽略字母大小写，单词ingoreCase</li><li><code>m</code> 多行匹配，只影响^和$，二者变成行的概念，即行开头和行结尾。单词是multiline</li></ul><p>阅读全文</p>`,402),b=[m];function q(h,x){return a(),n("div",null,b)}const f=s(v,[["render",q],["__file","综合-12-正则完整篇.html.vue"]]),y=JSON.parse('{"path":"/%E7%BB%BC%E5%90%88-12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html","title":"","lang":"zh-CN","frontmatter":{"description":"原文链接: https://interview.poetries.top/principle-docs/comprehensive/12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html 正则表达式是匹配模式，要么匹配字符，要么匹配位置。请记住这句话 第一章 正则表达式字符匹配攻略 1.1 两种模糊匹...","head":[["meta",{"property":"og:url","content":"https://interview.leeguoo.com/%E7%BB%BC%E5%90%88-12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html"}],["meta",{"property":"og:site_name","content":"前端面试题集锦"}],["meta",{"property":"og:description","content":"原文链接: https://interview.poetries.top/principle-docs/comprehensive/12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html 正则表达式是匹配模式，要么匹配字符，要么匹配位置。请记住这句话 第一章 正则表达式字符匹配攻略 1.1 两种模糊匹..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_ed05c12bd5dedc75.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-06T05:59:31.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-06T05:59:31.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_ed05c12bd5dedc75.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_da1447013f155fa8.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_03c4b5f670eb7117.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_907643611caaa74c.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_241c70dd801d6291.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_881a9bbc0b51f582.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_ce3dd9321ba55a9c.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_d9509244020d7ce1.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_21cf73e992373694.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_aad9216afc57f661.png\\",\\"https://interview.leeguoo.com/images/s_poetries_work_uploads_2023_12_b2cbf9f6bd52e905.png\\"],\\"dateModified\\":\\"2024-06-06T05:59:31.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"第一章 正则表达式字符匹配攻略","slug":"第一章-正则表达式字符匹配攻略","link":"#第一章-正则表达式字符匹配攻略","children":[{"level":3,"title":"1.1 两种模糊匹配","slug":"_1-1-两种模糊匹配","link":"#_1-1-两种模糊匹配","children":[]},{"level":3,"title":"1.2 字符组","slug":"_1-2-字符组","link":"#_1-2-字符组","children":[]},{"level":3,"title":"1.3 量词","slug":"_1-3-量词","link":"#_1-3-量词","children":[]},{"level":3,"title":"1.4 多选分支","slug":"_1-4-多选分支","link":"#_1-4-多选分支","children":[]},{"level":3,"title":"1.5 案例分析","slug":"_1-5-案例分析","link":"#_1-5-案例分析","children":[]}]},{"level":2,"title":"第二章 正则表达式位置匹配攻略","slug":"第二章-正则表达式位置匹配攻略","link":"#第二章-正则表达式位置匹配攻略","children":[{"level":3,"title":"2.1 什么是位置","slug":"_2-1-什么是位置","link":"#_2-1-什么是位置","children":[]},{"level":3,"title":"2.2 如何匹配位置","slug":"_2-2-如何匹配位置","link":"#_2-2-如何匹配位置","children":[]},{"level":3,"title":"2.3 位置的特性","slug":"_2-3-位置的特性","link":"#_2-3-位置的特性","children":[]},{"level":3,"title":"2.4 相关案例","slug":"_2-4-相关案例","link":"#_2-4-相关案例","children":[]}]},{"level":2,"title":"第三章 正则表达式括号的作用","slug":"第三章-正则表达式括号的作用","link":"#第三章-正则表达式括号的作用","children":[{"level":3,"title":"3.1 分组和分支结构","slug":"_3-1-分组和分支结构","link":"#_3-1-分组和分支结构","children":[]},{"level":3,"title":"3.2 引用分组","slug":"_3-2-引用分组","link":"#_3-2-引用分组","children":[]},{"level":3,"title":"3.3 反向引用","slug":"_3-3-反向引用","link":"#_3-3-反向引用","children":[]},{"level":3,"title":"3.4 非捕获分组","slug":"_3-4-非捕获分组","link":"#_3-4-非捕获分组","children":[]},{"level":3,"title":"3.5 相关案例","slug":"_3-5-相关案例","link":"#_3-5-相关案例","children":[]}]},{"level":2,"title":"第四章 正则表达式回溯法原理","slug":"第四章-正则表达式回溯法原理","link":"#第四章-正则表达式回溯法原理","children":[{"level":3,"title":"4.1 没有回溯的匹配","slug":"_4-1-没有回溯的匹配","link":"#_4-1-没有回溯的匹配","children":[]},{"level":3,"title":"4.2 有回溯的匹配","slug":"_4-2-有回溯的匹配","link":"#_4-2-有回溯的匹配","children":[]},{"level":3,"title":"4.3 常见的回溯形式","slug":"_4-3-常见的回溯形式","link":"#_4-3-常见的回溯形式","children":[]}]},{"level":2,"title":"第五章 正则表达式的拆分","slug":"第五章-正则表达式的拆分","link":"#第五章-正则表达式的拆分","children":[{"level":3,"title":"5.1 结构和操作符","slug":"_5-1-结构和操作符","link":"#_5-1-结构和操作符","children":[]},{"level":3,"title":"5.2 注意要点","slug":"_5-2-注意要点","link":"#_5-2-注意要点","children":[]},{"level":3,"title":"5.3 案例分析","slug":"_5-3-案例分析","link":"#_5-3-案例分析","children":[]}]},{"level":2,"title":"第六章 正则表达式编程","slug":"第六章-正则表达式编程","link":"#第六章-正则表达式编程","children":[{"level":3,"title":"6.1 正则表达式的四种操作","slug":"_6-1-正则表达式的四种操作","link":"#_6-1-正则表达式的四种操作","children":[]},{"level":3,"title":"6.2 相关API注意要点","slug":"_6-2-相关api注意要点","link":"#_6-2-相关api注意要点","children":[]}]}],"git":{"updatedTime":1717653571000,"contributors":[{"name":"guoli","email":"guoli@zhihu.com","commits":1}]},"autoDesc":true,"filePathRelative":"综合-12-正则完整篇.md","excerpt":"<p>原文链接: <a href=\\"https://interview.poetries.top/principle-docs/comprehensive/12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://interview.poetries.top/principle-docs/comprehensive/12-%E6%AD%A3%E5%88%99%E5%AE%8C%E6%95%B4%E7%AF%87.html</a></p>\\n<blockquote>\\n<p>正则表达式是匹配模式，要么匹配字符，要么匹配位置。请记住这句话</p>\\n</blockquote>"}');export{f as comp,y as data};
